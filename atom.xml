<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://a-jiang-pro.github.io</id>
    <title>yz</title>
    <updated>2025-11-22T15:26:08.241Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://a-jiang-pro.github.io"/>
    <link rel="self" href="https://a-jiang-pro.github.io/atom.xml"/>
    <subtitle>å°‘å¹´æ‹¥æœ‰äº†æ—¶é—´,æ—¶é—´å¸¦èµ°äº†å¹´å°‘</subtitle>
    <logo>https://a-jiang-pro.github.io/images/avatar.png</logo>
    <icon>https://a-jiang-pro.github.io/favicon.ico</icon>
    <rights>All rights reserved 2025, yz</rights>
    <entry>
        <title type="html"><![CDATA[èŠ‚çœCç›˜ç©ºé—´çš„æ–¹å¼â€”â€”ç¬¦å·é“¾æ¥]]></title>
        <id>https://a-jiang-pro.github.io/post/jie-sheng-c-pan-kong-jian-de-fang-shi-fu-hao-lian-jie/</id>
        <link href="https://a-jiang-pro.github.io/post/jie-sheng-c-pan-kong-jian-de-fang-shi-fu-hao-lian-jie/">
        </link>
        <updated>2025-05-23T16:11:49.000Z</updated>
        <content type="html"><![CDATA[<h1 id="èŠ‚çœcç›˜ç©ºé—´çš„æ–¹å¼ç¬¦å·é“¾æ¥">èŠ‚çœCç›˜ç©ºé—´çš„æ–¹å¼â€”â€”ç¬¦å·é“¾æ¥</h1>
<blockquote>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://linux.do/t/topic/494304">ä¸€ç§ä¼˜é›…çš„èŠ‚çœCç›˜ç©ºé—´çš„æ–¹å¼â€”â€”ç¬¦å·é“¾æ¥</a></p>
</blockquote>
<h2 id="é—®é¢˜èƒŒæ™¯">ğŸ§© é—®é¢˜èƒŒæ™¯</h2>
<p>åœ¨ Windows ç³»ç»Ÿä¸­ï¼ŒDocker Desktop é»˜è®¤å°†å…¶æ•°æ®å­˜å‚¨åœ¨ç³»ç»Ÿç›˜ï¼ˆCç›˜ï¼‰çš„ç”¨æˆ·ç›®å½•ä¸‹ï¼š</p>
<pre><code>C:\Users&lt;ç”¨æˆ·å&gt;\AppData\Local\DockerÂ  
</code></pre>
<p>éšç€ä½¿ç”¨æ—¶é—´å¢é•¿ï¼Œé•œåƒã€å®¹å™¨å’Œå·æ•°æ®ä¼šå ç”¨å¤§é‡ç©ºé—´ï¼Œå¯¼è‡´ C ç›˜ç©ºé—´ä¸è¶³ã€‚</p>
<hr>
<h2 id="è§£å†³æ–¹æ¡ˆä½¿ç”¨ç¬¦å·é“¾æ¥symbolic-link">âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç¬¦å·é“¾æ¥ï¼ˆSymbolic Linkï¼‰</h2>
<p>é€šè¿‡åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œå¯ä»¥å°† Docker æ•°æ®é‡å®šå‘åˆ°å…¶ä»–ç£ç›˜ï¼ŒåŒæ—¶ä¿æŒåŸæœ‰è·¯å¾„çš„è®¿é—®æ–¹å¼ä¸å˜ã€‚è¿™ç§æ–¹æ³•ï¼š</p>
<ul>
<li>ä¸å½±å“ Docker Desktop çš„æ­£å¸¸è¿è¡Œï¼›</li>
<li>ä¸éœ€è¦ä¿®æ”¹è½¯ä»¶é…ç½®ï¼›</li>
<li>èƒ½æœ‰æ•ˆèŠ‚çœ C ç›˜ç©ºé—´ï¼›</li>
<li>å¯¹å…¶ä»–ç¨‹åºå®Œå…¨é€æ˜ã€‚</li>
</ul>
<hr>
<h2 id="æ“ä½œæ­¥éª¤">ğŸ›  æ“ä½œæ­¥éª¤</h2>
<h3 id="1-å…³é—­-docker-desktop">1. å…³é—­ Docker Desktop</h3>
<p>ç¡®ä¿ Docker Desktop å®Œå…¨å…³é—­ï¼Œå¯åœ¨ç³»ç»Ÿæ‰˜ç›˜å³é”® Docker å›¾æ ‡é€‰æ‹©â€œé€€å‡º Docker Desktopâ€ã€‚å¦‚å¯ç”¨äº† WSLï¼Œä¹Ÿåº”å…³é—­ã€‚</p>
<h3 id="2-åˆ›å»ºç›®æ ‡ç›®å½•">2. åˆ›å»ºç›®æ ‡ç›®å½•</h3>
<p>åœ¨ç›®æ ‡ç£ç›˜ï¼ˆå¦‚ F ç›˜ï¼‰ä¸­åˆ›å»ºç›®æ ‡æ–‡ä»¶å¤¹ï¼š</p>
<pre><code>F:\AppData\Local\Docker
</code></pre>
<h3 id="3-è¿ç§»æ•°æ®å¦‚æœ‰">3. è¿ç§»æ•°æ®ï¼ˆå¦‚æœ‰ï¼‰</h3>
<p>å°†ä»¥ä¸‹ç›®å½•å‰ªåˆ‡åˆ°æ–°ä½ç½®ï¼š<code>C:\Users&lt;ç”¨æˆ·å&gt;\AppData\Local\Docker</code>â†’<code>F:\AppData\Local\Docker</code></p>
<p>âš ï¸ ç¡®ä¿ç›¸å…³è¿›ç¨‹å·²ç»å®Œå…¨åœæ­¢ã€‚</p>
<h3 id="4-åˆ›å»ºç¬¦å·é“¾æ¥">4. åˆ›å»ºç¬¦å·é“¾æ¥</h3>
<p>ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰ï¼Œè¿è¡Œï¼š</p>
<pre><code>mklink /D &quot;C:\Users&lt;ç”¨æˆ·å&gt;\AppData\Local\Docker&quot; &quot;F:\AppData\Local\Docker&quot;
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>åŸå§‹ç›®å½•ä¸èƒ½å­˜åœ¨ï¼›</li>
<li><code>/D</code> è¡¨ç¤ºåˆ›å»ºç›®å½•ç¬¦å·é“¾æ¥ã€‚</li>
</ul>
</blockquote>
<h3 id="5-å¯åŠ¨-docker-å¹¶éªŒè¯">5. å¯åŠ¨ Docker å¹¶éªŒè¯</h3>
<ul>
<li>å¯åŠ¨ Docker Desktopï¼›</li>
<li>æ‰§è¡Œé•œåƒæ‹‰å–ã€å®¹å™¨å¯åŠ¨ç­‰æ“ä½œï¼›</li>
<li>ç¡®è®¤æ•°æ®æ˜¯å¦å‡ºç°åœ¨ F ç›˜è·¯å¾„ï¼›</li>
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯ç¬¦å·é“¾æ¥çŠ¶æ€ï¼š</li>
</ul>
<pre><code>dir &quot;C:\Users\&lt;ç”¨æˆ·å&gt;\AppData\Local&quot; /AL
</code></pre>
<hr>
<h2 id="æ–¹æ³•ä¼˜åŠ¿">ğŸ¯ æ–¹æ³•ä¼˜åŠ¿</h2>
<ul>
<li>ğŸ›  æ— éœ€ä¿®æ”¹ Docker Desktop é…ç½®ï¼›</li>
<li>ğŸ“¦ å¯é€æ˜ä½¿ç”¨ Dockerï¼›</li>
<li>ğŸ’¾ èŠ‚çœ C ç›˜ç©ºé—´ï¼›</li>
<li>ğŸ” å¯éšæ—¶æ›´æ¢æ•°æ®å­˜å‚¨ä½ç½®ã€‚</li>
</ul>
<hr>
<h2 id="æ‹“å±•åº”ç”¨">ğŸ“¦ æ‹“å±•åº”ç”¨</h2>
<p>é™¤äº† Dockerï¼Œè¯¥æ–¹æ³•ä¹Ÿé€‚ç”¨äºä»¥ä¸‹è½¯ä»¶çš„æ•°æ®è½¬ç§»ï¼š</p>
<ul>
<li>Chrome æµè§ˆå™¨ç¼“å­˜ç›®å½•ï¼›</li>
<li>JetBrains ç³»åˆ—è½¯ä»¶é…ç½®ç›®å½•ï¼›</li>
<li>WPS Office æ•°æ®ï¼›</li>
<li>å¾®ä¿¡/QQ æ–‡ä»¶å­˜å‚¨ä½ç½®ç­‰ã€‚</li>
</ul>
<hr>
<h2 id="å‚è€ƒèµ„æ–™">ğŸ“š å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://linux.do/t/topic/494304">åŸæ–‡é“¾æ¥</a></li>
<li><a href="https://ios.sspai.com/post/66834">ç¬¦å·é“¾æ¥ã€ç¡¬é“¾æ¥åŠå…¶åœ¨ Windows ä¸Šçš„åº”ç”¨ä¸¾ä¾‹ - å°‘æ•°æ´¾</a></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸€é”®å®‰è£… Zsh å¢å¼ºç¯å¢ƒ]]></title>
        <id>https://a-jiang-pro.github.io/post/yi-jian-an-zhuang-zsh-zeng-qiang-huan-jing/</id>
        <link href="https://a-jiang-pro.github.io/post/yi-jian-an-zhuang-zsh-zeng-qiang-huan-jing/">
        </link>
        <updated>2025-05-22T02:33:04.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€é”®å®‰è£…-zsh-å¢å¼ºç¯å¢ƒ">ğŸš€ ä¸€é”®å®‰è£… Zsh å¢å¼ºç¯å¢ƒ</h1>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¿«é€Ÿå®‰è£… Zshã€Oh My Zsh åŠå¸¸ç”¨å¢å¼ºæ’ä»¶ï¼š</p>
<pre><code class="language-bash">bash &lt;(curl -sSL https://gitee.com/yz0812/script/raw/master/install_zsh_enhancements.sh)
</code></pre>
<h2 id="è„šæœ¬è‡ªåŠ¨å®‰è£…å†…å®¹">ğŸ“¦ è„šæœ¬è‡ªåŠ¨å®‰è£…å†…å®¹</h2>
<ul>
<li>å®‰è£… zsh å’Œ oh-my-zsh</li>
<li>å®‰è£…å¹¶é…ç½®æ’ä»¶ï¼š
<ul>
<li><code>git</code></li>
<li><code>zsh-syntax-highlighting</code></li>
<li><code>zsh-autosuggestions</code></li>
<li><code>history</code></li>
<li><code>z</code></li>
<li><code>docker</code></li>
<li><code>docker-compose</code></li>
</ul>
</li>
<li>è‡ªåŠ¨è®¾ç½® zsh ä¸ºé»˜è®¤ shell</li>
<li>è‡ªåŠ¨é…ç½® .zshrc æ’ä»¶åˆ—è¡¨åŠè¡¥å…¨åŠŸèƒ½</li>
</ul>
<h2 id="æ’ä»¶ä»‹ç»ä¸ç¤ºä¾‹">ğŸ”Œ æ’ä»¶ä»‹ç»ä¸ç¤ºä¾‹</h2>
<h3 id="git"><code>git</code></h3>
<p>æä¾›å¤§é‡ Git å‘½ä»¤åˆ«åï¼š</p>
<pre><code class="language-bash">gst       # git status
gco       # git checkout
gaa       # git add .
</code></pre>
<hr>
<h3 id="zsh-syntax-highlighting"><code>zsh-syntax-highlighting</code></h3>
<p>å‘½ä»¤è¾“å…¥å®æ—¶é«˜äº®æç¤ºï¼š</p>
<ul>
<li>æ­£ç¡®å‘½ä»¤ä¸ºç»¿è‰² âœ…</li>
<li>é”™è¯¯å‘½ä»¤ä¸ºçº¢è‰² âŒ</li>
</ul>
<pre><code class="language-bash">ls -la        # æ­£ç¡®å‘½ä»¤ï¼Œé«˜äº®ç»¿è‰²
lss -la       # é”™è¯¯å‘½ä»¤ï¼Œé«˜äº®çº¢è‰²
</code></pre>
<hr>
<h3 id="zsh-autosuggestions"><code>zsh-autosuggestions</code></h3>
<p>æ ¹æ®å†å²è®°å½•è‡ªåŠ¨æç¤ºå‘½ä»¤ï¼ŒæŒ‰ <code>â†’</code> é”®è¡¥å…¨ã€‚</p>
<pre><code class="language-bash"># è¾“å…¥ docker ä¼šæç¤ºï¼š
docker-compose up  # ç°è‰²æ˜¾ç¤ºï¼ŒæŒ‰ â†’ è¡¥å…¨
</code></pre>
<hr>
<h3 id="history"><code>history</code></h3>
<p>å¢å¼ºå†å²å‘½ä»¤æœç´¢åŠŸèƒ½ï¼š</p>
<pre><code class="language-bash">history 100 | grep docker
</code></pre>
<hr>
<h3 id="z"><code>z</code></h3>
<p>å¿«é€Ÿè·³è½¬å¸¸ç”¨ç›®å½•ï¼š</p>
<pre><code class="language-bash">z é¡¹ç›®å
# ç¤ºä¾‹ï¼š
cd ~/projects/my-app
z my-app  # ä¸‹ä¸€æ¬¡å¯ç›´æ¥è·³è½¬
</code></pre>
<hr>
<h3 id="docker-å’Œ-docker-compose"><code>docker</code> å’Œ <code>docker-compose</code></h3>
<p>æä¾›å¸¸ç”¨å¿«æ·å‘½ä»¤åˆ«åï¼š</p>
<pre><code class="language-bash">dcu   # docker-compose up
dcd   # docker-compose down
dps   # docker ps
</code></pre>
<hr>
<h2 id="ï¸-è„šæœ¬åšäº†ä»€ä¹ˆ">âš™ï¸ è„šæœ¬åšäº†ä»€ä¹ˆï¼Ÿ</h2>
<h3 id="æ­¥éª¤æ¦‚è§ˆ">âœ… æ­¥éª¤æ¦‚è§ˆ</h3>
<ol>
<li>å®‰è£…ä¾èµ–ï¼š<code>git</code> <code>curl</code> <code>wget</code> <code>zsh</code></li>
<li>å®‰è£… Oh My Zshï¼ˆæ”¯æŒ Gitee é•œåƒï¼‰</li>
<li>å…‹éš†æ’ä»¶ä»“åº“åˆ° <code>~/.oh-my-zsh/custom/plugins/</code></li>
<li>è‡ªåŠ¨ä¿®æ”¹ <code>.zshrc</code>ï¼š
<ul>
<li>å¯ç”¨æ’ä»¶åˆ—è¡¨</li>
<li>åˆå§‹åŒ– <code>compinit</code></li>
</ul>
</li>
<li>è®¾ç½®é»˜è®¤ shell ä¸º zsh</li>
</ol>
<hr>
<h2 id="ä½¿ç”¨åå¦‚ä½•ç”Ÿæ•ˆ">ğŸ§ª ä½¿ç”¨åå¦‚ä½•ç”Ÿæ•ˆï¼Ÿ</h2>
<ul>
<li><strong>é‡å¯ç»ˆç«¯</strong> æˆ–æ‰§è¡Œï¼š</li>
</ul>
<pre><code class="language-bash">source ~/.zshrc
</code></pre>
<ul>
<li><strong>å¦‚æœ zsh æœªç”Ÿæ•ˆ</strong>ï¼Œå°è¯•é‡æ–°ç™»å½•æˆ–æ‰§è¡Œï¼š</li>
</ul>
<pre><code class="language-bash">chsh -s $(which zsh)
</code></pre>
<hr>
<h2 id="ç¤ºä¾‹æ’ä»¶é…ç½®ä½äº-zshrc">ğŸ“ ç¤ºä¾‹æ’ä»¶é…ç½®ï¼ˆä½äº <code>.zshrc</code>ï¼‰ï¼š</h2>
<pre><code class="language-zsh">plugins=(
  git
  zsh-syntax-highlighting
  zsh-autosuggestions
  history
  z
  docker
  docker-compose
)
</code></pre>
<hr>
<h2 id="å¸¸è§é—®é¢˜">â— å¸¸è§é—®é¢˜</h2>
<ul>
<li><strong>æç¤ºç¬¦ä¹±ç ï¼Ÿ</strong> è¯·å®‰è£… <a href="https://github.com/powerline/fonts">Powerline å­—ä½“</a></li>
<li><strong><code>compaudit: insecure directories</code> é”™è¯¯ï¼Ÿ</strong></li>
</ul>
<pre><code class="language-bash">chmod -R 755 ~/.oh-my-zsh/custom/plugins &amp;&amp; compinit -u
</code></pre>
<hr>
<h2 id="ï¸-é¡¹ç›®æ¥æº">â¤ï¸ é¡¹ç›®æ¥æº</h2>
<ul>
<li>æ’ä»¶ä»“åº“é•œåƒç”± <a href="https://gitee.com/yz0812">@yz0812</a> æä¾›</li>
<li>æ¬¢è¿ Forkã€ä¿®æ”¹æˆ–æäº¤ PR</li>
</ul>
<hr>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Rime ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“ + é›¾å‡‡æ‹¼éŸ³]]></title>
        <id>https://a-jiang-pro.github.io/post/rime-zhong-zhou-yun-shu-ru-fa-yin-qing-wu-song-pin-yin/</id>
        <link href="https://a-jiang-pro.github.io/post/rime-zhong-zhou-yun-shu-ru-fa-yin-qing-wu-song-pin-yin/">
        </link>
        <updated>2025-03-26T10:25:18.000Z</updated>
        <content type="html"><![CDATA[<h1 id="rime-ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“-é›¾å‡‡æ‹¼éŸ³">Rime ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“ + é›¾å‡‡æ‹¼éŸ³</h1>
<p>å…ˆçœ‹æ•ˆæœ<br>
<img src="upload://3sRDWweszjrAVo5WcYOMPmUes8r.png" alt="image|690x180" loading="lazy"></p>
<blockquote>
<p>å‰æï¼Œä½œè€…ä¸€ç›´ä½¿ç”¨Windowsè‡ªå¸¦è¾“å…¥æ³•ï¼Œä½†æ˜¯windowsè‡ªå¸¦è¾“å…¥æ³•å’ŒCSGOå†²çªæ‰€ä»¥å¯»æ±‚ç¬¬ä¸‰æ–¹è¾“å…¥æ³•ï¼Œé‚æ‰¾åˆ°è¿™ä¸ªï¼ˆå¦ˆçš„ä¸€æ ·ä¸å¯ä»¥ï¼Œä½†æ˜¯å‘ç°è¿™ä¸ªè¾“å…¥æ³•è¿˜æŒºå¥½ç”¨çš„ï¼‰ï¼Œæœ‰å…³è¿™ä¸ªçš„ä»‹ç»å¯ä»¥ <a href="https://sspai.com/post/73634">Rime ä»äº†è§£åˆ°å…¥é—¨ - å°‘æ•°æ´¾ (sspai.com)</a>å‚è€ƒè¿™ä¸ª</p>
</blockquote>
<h2 id="1-ä¸‹è½½å®‰è£…-rime-ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“">1.  <a href="https://rime.im/download/">ä¸‹è½½å®‰è£… | RIME | ä¸­å·éŸ»è¼¸å…¥æ³•å¼•æ“</a></h2>
<p>å…¨éƒ¨ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å³å¯</p>
<h2 id="é›¾å‡‡æ‹¼éŸ³ä»‹ç»ä¸å®‰è£…">é›¾å‡‡æ‹¼éŸ³ä»‹ç»ä¸å®‰è£…</h2>
<blockquote>
<p>ç®€ä»‹å’Œå®˜æ–¹æ–‡æ¡£  <a href="https://dvel.me/posts/rime-ice/">é›¾å‡‡æ‹¼éŸ³</a></p>
</blockquote>
<ul>
<li>ç®€ä½“ | å…¨æ‹¼ | åŒæ‹¼</li>
<li>ä¸»è¦åŠŸèƒ½
<ul>
<li><a href="https://github.com/tumuyan/rime-melt">melt_eng</a> è‹±æ–‡è¾“å…¥</li>
<li><a href="https://dvel.me/posts/make-rime-en-better/">ä¼˜åŒ–è‹±æ–‡è¾“å…¥ä½“éªŒ</a></li>
<li><a href="https://github.com/mirtlecn/rime-radical-pinyin">éƒ¨ä»¶æ‹†å­—æ–¹æ¡ˆ</a> åæŸ¥ã€è¾…ç </li>
<li>è‡ªæ•´ç†çš„ Emoji</li>
<li><a href="https://github.com/BlindingDark/rime-lua-select-character">ä»¥è¯å®šå­—</a></li>
<li><a href="https://github.com/tumuyan/rime-melt/blob/master/lua/melt.lua">é•¿è¯ä¼˜å…ˆ</a></li>
<li><a href="https://github.com/shewer/librime-lua-script/blob/main/lua/component/unicode.lua">Unicode</a></li>
<li><a href="https://wb98.gitee.io/">æ•°å­—ã€äººæ°‘å¸å¤§å†™</a></li>
<li>æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€<a href="https://github.com/boomker/rime-fast-xhup">å†œå†</a></li>
<li>å¸¸è§é”™éŸ³é”™å­—æç¤º</li>
<li>ç½®é¡¶å€™é€‰é¡¹</li>
<li>æ‰€æœ‰æ ‡ç‚¹ç¬¦å·ç›´æ¥ä¸Šå±ï¼Œ/ æ¨¡å¼æ”¹ä¸º v æ¨¡å¼ï¼Œ/ ç›´æ¥ä¸Šå±</li>
<li>å¢åŠ äº†è®¸å¤šæ‹¼éŸ³çº é”™</li>
</ul>
</li>
<li>ç®€ä½“å­—è¡¨ã€è¯åº“
<ul>
<li><a href="https://github.com/iDvel/The-Table-of-General-Standard-Chinese-Characters">ã€Šé€šç”¨è§„èŒƒæ±‰å­—è¡¨ã€‹</a></li>
<li><a href="http://bbs.pinyin.thunisoft.com/forum.php?mod=viewthread&amp;tid=30049">åå®‡é‡é£ç³»ç»Ÿè¯åº“</a></li>
<li><a href="https://github.com/thunlp/THUOCL">æ¸…åå¤§å­¦å¼€æºè¯åº“</a></li>
<li><a href="https://gist.github.com/indiejoseph/eae09c673460aa0b56db">ã€Šç°ä»£æ±‰è¯­å¸¸ç”¨è¯è¡¨ã€‹</a></li>
<li><a href="https://forum.freemdict.com/t/topic/12102">ã€Šç°ä»£æ±‰è¯­è¯å…¸ã€‹</a></li>
<li><a href="https://forum.freemdict.com/t/topic/1211">ã€ŠåŒä¹‰è¯è¯æ—ã€‹</a></li>
<li><a href="https://forum.freemdict.com/t/topic/11407">ã€Šæ–°åæˆè¯­å¤§è¯å…¸ã€‹</a></li>
<li><a href="https://ai.tencent.com/ailab/nlp/en/download.html">è…¾è®¯è¯å‘é‡</a></li>
</ul>
</li>
<li>è¯åº“ä¿®è®¢
<ul>
<li>æ ¡å¯¹å¤§é‡å¼‚å½¢è¯ã€é”™åˆ«å­—ã€é”™è¯¯æ³¨éŸ³</li>
<li>å…¨è¯åº“å®Œæˆæ³¨éŸ³</li>
<li>åŒä¹‰å¤šéŸ³å­—æ³¨éŸ³</li>
</ul>
</li>
</ul>
<h3 id="21-githubä¸‹è½½">2.1  <a href="https://github.com/iDvel/rime-ice">githubä¸‹è½½</a></h3>
<ol>
<li>githubä¸‹è½½ï¼Œè§£å‹</li>
<li>æ‰“å¼€ç”¨æˆ·æ–‡ä»¶å¤¹</li>
<li>å…¨éƒ¨å¤åˆ¶è¿›å»</li>
<li>å³å‡»é€‰æ‹©é‡æ–°éƒ¨ç½²<br>
5.å³å‡»é€‰æ‹©è¾“å…¥æ³•è®¾å®šé€‰æ‹©é›¾å‡‡æ‹¼éŸ³<br>
<img src="upload://4eN14fm72uHkBcrd8ee7ON6J41Z.png" alt="image|270x417" loading="lazy"></li>
</ol>
<h3 id="22-å‘½ä»¤å®‰è£…">2.2 å‘½ä»¤å®‰è£…</h3>
<ol>
<li>ç‚¹å‡»è¾“å…¥æ³•è®¾å®š</li>
<li>æ›´å¤šè¾“å…¥è®¾ç½®</li>
<li>æ‰§è¡Œ <code>iDvel/rime-ice:others/recipes/full</code></li>
<li>å›è½¦ç¡®è®¤ï¼Œéšå³ RIME ä¼šè‡ªåŠ¨ä¸‹è½½</li>
<li>ç¨ç­‰ç‰‡åˆ»ï¼Œå‘½ä»¤æç¤ºç¬¦å‡ºç°ã€Œ<code>Updated xxx files...</code> ã€çš„æç¤ºï¼ˆé»„è‰²å­—æ ·ï¼‰ï¼Œè¡¨ç¤ºå®‰è£…å®Œæˆã€‚æ­¤æ—¶å¯ä»¥ç›´æ¥å…³æ‰è¯¥çª—å£ã€‚</li>
<li>å³å‡»é€‰æ‹©é‡æ–°éƒ¨ç½²</li>
<li>å³å‡»é€‰æ‹©è¾“å…¥æ³•è®¾å®šé€‰æ‹©é›¾å‡‡æ‹¼éŸ³</li>
</ol>
<h3 id="23-rimeè¾“å…¥æ³•å®‰è£…è„šæœ¬å¿«æ·å®‰è£…">2.3 Rimeè¾“å…¥æ³•å®‰è£…è„šæœ¬å¿«æ·å®‰è£…</h3>
<p><a href="https://github.com/Mark24Code/rime-auto-deploy">Mark24Code/rime-auto-deploy: Rimeè¾“å…¥æ³•å®‰è£…è„šæœ¬ï¼Œè®©ä¸€åˆ‡æ›´è½»æ¾ã€‚Make using Rime easy. (github.com)</a></p>
<h2 id="3-åŒæ­¥è®¾ç½®">3. åŒæ­¥è®¾ç½®</h2>
<p>æœ¬äººé€‰æ‹©ä½¿ç”¨OneDriveåŒæ­¥</p>
<ol>
<li>å³å‡»é€‰æ‹©ç”¨æˆ·æ–‡ä»¶å¤¹</li>
<li>æ‰¾åˆ° <code>installation.yaml</code></li>
<li>ç¼–è¾‘ sync_dir å’Œ installation_id</li>
</ol>
<pre><code class="language-properties">distribution_code_name: Weasel
distribution_name: &quot;å°ç‹¼æ¯«&quot;
distribution_version: 0.16.1
install_time: &quot;Tue Sep 10 14:01:19 2024&quot;
installation_id: &quot;Win NUC8&quot;  # åŒæ­¥çš„IDï¼Œåœ¨åŒæ­¥æ–‡ä»¶å¤¹ä½œä¸ºæ–‡ä»¶å¤¹åç§°æ˜¾ç¤º
rime_version: 1.11.2
sync_dir: C:\Users\y\OneDrive\Rimeuser # åŒæ­¥æ–‡ä»¶å¤¹ä½ç½®
</code></pre>
<ol start="4">
<li>å³å‡»é€‰æ‹©ç”¨æˆ·èµ„æ–™åŒæ­¥</li>
</ol>
<h2 id="4-çš®è‚¤è®¾ç½®">4. çš®è‚¤è®¾ç½®</h2>
<p><a href="https://github.com/rime/weasel/wiki/%E7%A4%BA%E4%BE%8B#windows-11-%E9%A3%8E%E6%A0%BC">ç¤ºä¾‹ Â· rime/weasel Wiki (github.com)</a></p>
<figure data-type="image" tabindex="1"><img src="upload://fONRb8lAWzs0WpMIA27RMSTrCM8.jpeg" alt="FireShot Capture 001 - ç¤ºä¾‹ Â· rime_weasel Wiki - github.com|128x500" loading="lazy"></figure>
<blockquote>
<p>åˆ†äº«æœ¬äººåŸºäºå®˜æ–¹windows11ä¿®æ”¹çš„çš®è‚¤è®¾ç½®</p>
</blockquote>
<pre><code>patch:
  &quot;preset_color_schemes/+&quot;:
    win11dark: {back_color: 0x2C2C2C, border_color: 0x002C2C2C, hilited_candidate_back_color: 0x383838, hilited_label_color: 0xf9f9f9, hilited_mark_color: 0xFFC24C, label_color: 0xf9f9f9, name: &quot;Win11æš—è‰² / Win11Dark&quot;, shadow_color: 0x20000000, text_color: 0xf9f9f9}
    win11light: {back_color: 0xf9f9f9, border_color: 0x009e5a00, hilited_candidate_back_color: 0xf0f0f0, hilited_label_color: 0x191919, hilited_mark_color: 0xc06700, label_color: 0x191919, name: &quot; Win11æµ…è‰² / Win11light&quot;, shadow_color: 0x20000000, text_color: 0x191919}
  &quot;style/+&quot;:
    color_scheme: win11light
    color_scheme_dark: win11dark
    comment_font_point: 10
    font_point: 10
    horizontal: true
    inline_preedit: true
    label_font_point: 10
    label_format: &quot;%s&quot;
    layout: {border: 2, candidate_spacing: 22, corner_radius: 10, hilite_padding: 8, hilite_padding_x: 8, hilite_spacing: 6, margin_x: 16, margin_y: 8, min_width: 10, round_corner: 8, shadow_radius: 8}
  &quot;style/color_scheme&quot;: win11light
</code></pre>
<h2 id="5è¯åº“å¢å¼ºå’Œè‡ªå®šä¹‰è¯åº“">5.è¯åº“å¢å¼ºå’Œè‡ªå®šä¹‰è¯åº“</h2>
<ol>
<li>ä¸‹è½½ <a href="https://github.com/Iorest/rime-setting">è¯åº“</a>ï¼Œè§£å‹</li>
<li>ç§»åŠ¨åˆ°ç”¨æˆ·æ–‡ä»¶å¤¹</li>
<li>æŒ‚è½½è¯åº“</li>
</ol>
<pre><code># rime_ice.dict.yaml

---
name: rime_ice
version: &quot;1&quot;
import_tables:
  - mydict            # æŒ‚è½½é…ç½®ç›®å½•ä¸‹çš„ mydict.dict.yaml
  - cn_dicts/mydict2  # æŒ‚è½½ cn_dicts/ ç›®å½•ä¸‹çš„ mydict2.dict.yaml
...
</code></pre>
<p>è‡ªå®šä¹‰è¯åº“<br>
åœ¨ <code>custom_phrase.txt</code> ä¸­å¯ä»¥æ”¾ç½®ä¸€äº›ç‰¹å®šçš„è¯æ±‡ä¸ç¼–ç ï¼Œæ¯”å¦‚è¾“å…¥ vmail å¾—åˆ°è‡ªå·±çš„é‚®ç®±ï¼Œè¾“å…¥ vphone å¾—åˆ°æ‰‹æœºå·ï¼Œè¾“å…¥ vuser å¾—åˆ°ç”¨æˆ·åç­‰ç­‰ã€‚</p>
<h2 id="ä¼˜åŒ–è®¾ç½®">ä¼˜åŒ–è®¾ç½®</h2>
<ol>
<li>ä¿®æ”¹å€™é€‰è¯æ•°é‡  <code>default.custom.yaml</code> ä¸­ <code>patch.menu.page_size: 5</code></li>
<li>[ä¿®æ”¹ä¸­è‹±æ–‡åˆ‡æ¢æç¤ºå›¾æ ‡] (https://linux.do/t/topic/201789/5) <code>weasel.yaml</code> show_notifications ä¸ºfalse</li>
</ol>
<p><em>æœ€åè¡¨è¾¾æ­‰æ„ï¼Œæœ¬æ–‡ç« æŒ‰ç…§ä¸ªäººæƒ³æ³•ç¼–å†™ï¼Œæ²¡æœ‰æºå¸¦è¾ƒå¤šå›¾ç‰‡æ•™ç¨‹ï¼Œå¯èƒ½ä¸å¤ªé€‚åˆç”µè„‘å°ç™½ï¼Œå› ä¸ºæœ¬äººæ–¹ä¾¿æ–‡ç« è¿ç§»ï¼Œæœ¬äººæ²¡æœ‰å›¾åºŠï¼Œæ‰€ä»¥å°½å¯èƒ½çš„å°‘ä½¿ç”¨å›¾ç‰‡</em></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç›®å½•ç»“æ„æ ‘ç”Ÿæˆå™¨ ]]></title>
        <id>https://a-jiang-pro.github.io/post/mu-lu-jie-gou-shu-sheng-cheng-qi/</id>
        <link href="https://a-jiang-pro.github.io/post/mu-lu-jie-gou-shu-sheng-cheng-qi/">
        </link>
        <updated>2025-03-26T10:22:58.000Z</updated>
        <content type="html"><![CDATA[<h1 id="1-ä½¿ç”¨åœºæ™¯">1. ä½¿ç”¨åœºæ™¯</h1>
<p><strong>éœ€è¦æ’°å†™READMEçš„æ¨¡å—ç»“æ„ï¼Œç›®å½•å¤ªå¤šæƒ³ç€è‡ªå·±å†™ä¸€ä¸ªå°å·¥å…·</strong><br>
<img src="upload://l8uQU02oxfAaGVIHbP2ZgR2n9RL.png" alt="image|690x413" loading="lazy"></p>
<h1 id="2è®¿é—®åœ°å€">2.è®¿é—®åœ°å€</h1>
<p>è®¿é—®åœ°å€ <a href="https://directory-structure.wuc0714.top/">https://directory-structure.wuc0714.top</a><br>
gitåœ°å€ <a href="https://github.com/yz0812/folders">yz0812/folders</a></p>
<h1 id="3æ•ˆæœå›¾">3.æ•ˆæœå›¾</h1>
<figure data-type="image" tabindex="1"><img src="upload://pMAq8PqltxnGoEC1C5YGtrJf5MK.png" alt="FireShot Capture 006 - ç›®å½•ç»“æ„æ ‘ç”Ÿæˆå™¨ - directory-structure.wuc0714.top|476x500" loading="lazy"></figure>
<p><span style='color:red'> æ¬¢è¿å¤§ä½¬æPR</span></p>
<p><span style='color:red'> ç”±äºæµè§ˆå™¨é™åˆ¶æ— æ³•ä½¿ç”¨æ‹–æ‹½çš„æ–¹å¼</span><br>
<span style='color:red'> æ”¯æŒå±•ç¤ºç›®å½•æˆ–è€…å…¨éƒ¨æ–‡ä»¶</span><br>
<span style='color:red'> æ”¯æŒè®¾ç½®å±‚æ·±</span><br>
<span style='color:red'> å¯ä»¥å¿«æ·éƒ¨ç½²cloudflare</span><br>
<span style='color:red'> æ”¯æŒå¿½ç•¥åŠŸèƒ½å’Œå¤‡æ³¨åŠŸèƒ½</span></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ Cursor Javaé¡¹ç›®å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—]]></title>
        <id>https://a-jiang-pro.github.io/post/cursor-java-xiang-mu-kai-fa-huan-jing-pei-zhi-zhi-nan/</id>
        <link href="https://a-jiang-pro.github.io/post/cursor-java-xiang-mu-kai-fa-huan-jing-pei-zhi-zhi-nan/">
        </link>
        <updated>2025-03-26T10:19:55.000Z</updated>
        <content type="html"><![CDATA[<h1 id="cursor-javaé¡¹ç›®å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—">Cursor Javaé¡¹ç›®å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—</h1>
<h2 id="æ’ä»¶é…ç½®">æ’ä»¶é…ç½®</h2>
<h3 id="ideaä¸cursorè·³è½¬é…ç½®">Ideaä¸Cursorè·³è½¬é…ç½®</h3>
<p>ä½¿ç”¨ä»¥ä¸‹æ’ä»¶å¯ä»¥åœ¨IntelliJ IDEAå’ŒCursorä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼š</p>
<p><strong>Switch2Cursor (IDEA æ’ä»¶)</strong><br>
<strong>Switch2IDEA (Cursor æ’ä»¶)</strong></p>
<p><strong>å¿«æ·é”®</strong>ï¼š</p>
<ul>
<li><code>Alt+Shift+O</code>ï¼šåœ¨å¦ä¸€ IDE ä¸­æ‰“å¼€å½“å‰æ–‡ä»¶</li>
<li><code>Alt+Shift+P</code>ï¼šåœ¨å¦ä¸€ IDE ä¸­æ‰“å¼€å½“å‰é¡¹ç›®</li>
</ul>
<p><strong>å®‰è£…å’Œé…ç½®æ­¥éª¤</strong>ï¼š</p>
<p><strong>IDEA æ’ä»¶å®‰è£…</strong>ï¼š</p>
<ol>
<li>æ‰“å¼€ IntelliJ IDEA</li>
<li>è¿›å…¥ <code>File</code> â†’ <code>Settings</code> â†’ <code>Plugins</code></li>
<li>åœ¨æœç´¢æ ä¸­è¾“å…¥ <code>switch2cursor</code></li>
<li>ç‚¹å‡» <code>Install</code> æŒ‰é’®å®‰è£…</li>
<li>é‡å¯ IDEA åç”Ÿæ•ˆ</li>
<li>è¿›å…¥ <code>File</code> â†’ <code>Settings</code> â†’ <code>Tools</code> â†’ <code>Switch2Cursor</code></li>
<li>è®¾ç½® Cursor å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š<code>C:\Users\ç”¨æˆ·å\AppData\Local\Programs\Cursor\Cursor.exe</code>ï¼‰</li>
</ol>
<p><strong>Cursor æ’ä»¶å®‰è£…</strong>ï¼š</p>
<ol>
<li>æ‰“å¼€ Cursor</li>
<li>ç‚¹å‡»å·¦ä¾§è¾¹æ çš„æ‰©å±•å›¾æ ‡æˆ–ä½¿ç”¨å¿«æ·é”® <code>Ctrl+Shift+X</code></li>
<li>åœ¨æœç´¢æ ä¸­è¾“å…¥ <code>switch2idea</code></li>
<li>ç‚¹å‡» <code>Install</code> æŒ‰é’®å®‰è£…</li>
<li>é‡å¯ Cursor åç”Ÿæ•ˆ</li>
<li>ç‚¹å‡»å·¦ä¸‹è§’é½¿è½®å›¾æ ‡æ‰“å¼€è®¾ç½®ï¼Œæˆ–ä½¿ç”¨å¿«æ·é”® <code>Ctrl+,</code></li>
<li>åœ¨æœç´¢æ ä¸­è¾“å…¥ <code>switch2idea</code></li>
<li>è®¾ç½® IDEA å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š<code>C:\Program Files\JetBrains\IntelliJ IDEA\bin\idea64.exe</code>ï¼‰</li>
</ol>
<h3 id="javaå¼€å‘ç¯å¢ƒæ’ä»¶">Javaå¼€å‘ç¯å¢ƒæ’ä»¶</h3>
<p>ä»¥ä¸‹æ˜¯åœ¨Cursorä¸­é…ç½®Javaå¼€å‘ç¯å¢ƒçš„å¿…å¤‡æ’ä»¶ï¼š</p>
<ol>
<li>
<p><strong>Extension Pack for Java</strong></p>
<ul>
<li>åŒ…å«äº†Javaå¼€å‘æ‰€éœ€çš„æ ¸å¿ƒæ‰©å±•</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€Cursor</li>
<li>ç‚¹å‡»å·¦ä¾§æ‰©å±•å›¾æ ‡æˆ–ä½¿ç”¨å¿«æ·é”® <code>Ctrl+Shift+X</code></li>
<li>æœç´¢ &quot;Extension Pack for Java&quot;</li>
<li>ç‚¹å‡» &quot;Install&quot; å®‰è£…</li>
</ol>
</li>
<li><strong>JDKé…ç½®</strong>ï¼š
<ol>
<li>ä½¿ç”¨å¿«æ·é”® <code>Ctrl+,</code> æ‰“å¼€è®¾ç½®</li>
<li>æœç´¢ &quot;java.home&quot;</li>
<li>åœ¨ &quot;Java &gt; Configuration: Runtimes&quot; è®¾ç½®ä¸­ç‚¹å‡» &quot;Edit in settings.json&quot;</li>
<li>æ·»åŠ JDKè·¯å¾„é…ç½®ï¼š</li>
</ol>
<pre><code class="language-json">&quot;java.configuration.runtimes&quot;: [
  {
    &quot;name&quot;: &quot;JavaSE-17&quot;,
    &quot;path&quot;: &quot;C:\\Program Files\\Java\\jdk-17&quot;,
    &quot;default&quot;: true
  }
]
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Language Support for Java(TM) by Red Hat</strong></p>
<ul>
<li>æä¾›åŸºç¡€çš„Javaè¯­æ³•é«˜äº®ã€ä»£ç è·³è½¬ã€è‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;Language Support for Java&quot;</li>
<li>æ‰¾åˆ° Red Hat æä¾›çš„ç‰ˆæœ¬å¹¶å®‰è£…</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Debugger for Java</strong></p>
<ul>
<li>æ”¯æŒJavaä»£ç çš„è°ƒè¯•åŠŸèƒ½</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;Debugger for Java&quot;</li>
<li>å®‰è£…è¯¥æ’ä»¶</li>
</ol>
</li>
<li><strong>ä½¿ç”¨æ–¹æ³•</strong>ï¼š
<ol>
<li>åœ¨ä»£ç å·¦ä¾§è¾¹æ ç‚¹å‡»è®¾ç½®æ–­ç‚¹</li>
<li>æŒ‰ <code>F5</code> é”®æˆ–ç‚¹å‡»è°ƒè¯•æŒ‰é’®å¼€å§‹è°ƒè¯•</li>
<li>ä½¿ç”¨è°ƒè¯•å·¥å…·æ æ§åˆ¶æ‰§è¡Œæµç¨‹</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Maven for Java</strong></p>
<ul>
<li>æä¾›å¯¹Mavené¡¹ç›®çš„æ”¯æŒ</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;Maven for Java&quot;</li>
<li>å®‰è£…è¯¥æ’ä»¶</li>
</ol>
</li>
<li><strong>Mavené…ç½®</strong>ï¼š
<ol>
<li>ä½¿ç”¨å¿«æ·é”® <code>Ctrl+,</code> æ‰“å¼€è®¾ç½®</li>
<li>æœç´¢ &quot;java.configuration.maven&quot;</li>
<li>åœ¨è®¾ç½®ä¸­é…ç½®Mavenè·¯å¾„ï¼Œä¾‹å¦‚ï¼š</li>
</ol>
<pre><code class="language-json">&quot;java.configuration.maven.globalSettings&quot;: &quot;C:\\path\\to\\settings.xml&quot;,
&quot;maven.executable.path&quot;: &quot;C:\\path\\to\\apache-maven\\bin\\mvn.cmd&quot;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Spring Boot Extension Pack</strong></p>
<ul>
<li>å¦‚æœä½¿ç”¨Spring Bootå¼€å‘ï¼Œæ­¤æ’ä»¶åŒ…æä¾›ä¾¿æ·åŠŸèƒ½</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;Spring Boot Extension Pack&quot;</li>
<li>å®‰è£…è¯¥æ’ä»¶åŒ…</li>
</ol>
</li>
<li><strong>åŒ…å«åŠŸèƒ½</strong>ï¼š
<ul>
<li>Spring Initializr</li>
<li>Spring Boot Dashboard</li>
<li>Spring Booté¡¹ç›®æ”¯æŒ</li>
<li>è‡ªåŠ¨é…ç½®æç¤ºå’Œå¯¼èˆª</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Lombok Annotations Support</strong></p>
<ul>
<li>æ”¯æŒLombokæ³¨è§£</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;Lombok Annotations Support&quot;</li>
<li>å®‰è£…è¯¥æ’ä»¶</li>
</ol>
</li>
<li><strong>é…ç½®</strong>ï¼š
<ol>
<li>ç¡®ä¿é¡¹ç›®ä¸­å·²æ·»åŠ Lombokä¾èµ–</li>
<li>é‡å¯Cursorä»¥ä½¿é…ç½®ç”Ÿæ•ˆ</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Java Extension Pack</strong></p>
<ul>
<li>åŒ…å«å¤šç§å¿…å¤‡çš„Javaæ’ä»¶é›†åˆ</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;Java Extension Pack&quot;</li>
<li>å®‰è£…è¯¥æ’ä»¶åŒ…</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>MybatisX</strong></p>
</li>
</ol>
<h3 id="jetbrains-fleet-ä¸»é¢˜">JetBrains Fleet ä¸»é¢˜</h3>
<p>ä½¿ç”¨JetBrainsdçš„Fleetä¸»é¢˜ä½¿Cursorçš„ç•Œé¢é£æ ¼æ›´æ¥è¿‘IntelliJ IDEAï¼š</p>
<p><strong>JetBrains Fleet Themeå®‰è£…</strong>ï¼š</p>
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœºï¼ˆ<code>Ctrl+Shift+X</code>ï¼‰</li>
<li>æœç´¢ &quot;Fleet Theme&quot;</li>
<li>å®‰è£…è¯¥ä¸»é¢˜</li>
<li>ä½¿ç”¨ <code>Ctrl+K</code> ç„¶å <code>Ctrl+T</code> æ‰“å¼€ä¸»é¢˜é€‰æ‹©å™¨</li>
<li>é€‰æ‹© &quot;Fleet Theme&quot; åº”ç”¨ä¸»é¢˜</li>
<li>é‡å¯Cursorä½¿ä¸»é¢˜å®Œå…¨ç”Ÿæ•ˆ</li>
</ol>
<h2 id="æ¨èçš„é¢å¤–é…ç½®">æ¨èçš„é¢å¤–é…ç½®</h2>
<h3 id="ä»£ç è´¨é‡å·¥å…·">ä»£ç è´¨é‡å·¥å…·</h3>
<ol>
<li>
<p><strong>SonarLint</strong></p>
<ul>
<li>å®æ—¶æ£€æµ‹å’Œä¿®å¤ä»£ç è´¨é‡é—®é¢˜</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;SonarLint&quot;</li>
<li>å®‰è£…è¯¥æ’ä»¶</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Checkstyle for Java</strong></p>
<ul>
<li>å¸®åŠ©å¼ºåˆ¶æ‰§è¡Œä»£ç é£æ ¼è§„èŒƒ</li>
<li><strong>å®‰è£…æ­¥éª¤</strong>ï¼š
<ol>
<li>æ‰“å¼€æ‰©å±•å¸‚åœº</li>
<li>æœç´¢ &quot;Checkstyle for Java&quot;</li>
<li>å®‰è£…è¯¥æ’ä»¶</li>
</ol>
</li>
<li><strong>é…ç½®</strong>ï¼š
<ol>
<li>ä½¿ç”¨ <code>Ctrl+,</code> æ‰“å¼€è®¾ç½®</li>
<li>æœç´¢ &quot;java.checkstyle&quot;</li>
<li>é…ç½®Checkstyleè§„åˆ™æ–‡ä»¶è·¯å¾„</li>
</ol>
</li>
</ul>
</li>
</ol>
<h3 id="æ€§èƒ½ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–</h3>
<p>ä¸ºæé«˜Cursoråœ¨å¤„ç†å¤§å‹Javaé¡¹ç›®æ—¶çš„æ€§èƒ½ï¼š</p>
<ol>
<li>æ‰“å¼€è®¾ç½®ï¼ˆ<code>Ctrl+,</code>ï¼‰</li>
<li>æœç´¢å¹¶è°ƒæ•´ä»¥ä¸‹è®¾ç½®ï¼š<pre><code class="language-json">&quot;java.server.launchMode&quot;: &quot;Standard&quot;,
&quot;java.completion.maxResults&quot;: 50,
&quot;java.autobuild.enabled&quot;: true,
&quot;java.configuration.updateBuildConfiguration&quot;: &quot;automatic&quot;,
&quot;java.jdt.ls.vmargs&quot;: &quot;-Xmx2G -XX:+UseG1GC -XX:+UseStringDeduplication&quot;
</code></pre>
</li>
</ol>
<h2 id="å¸¸è§é—®é¢˜è§£å†³">å¸¸è§é—®é¢˜è§£å†³</h2>
<ol>
<li>
<p><strong>Javaè¯­è¨€æœåŠ¡å™¨æœªå¯åŠ¨</strong></p>
<ul>
<li>æ£€æŸ¥Javaè·¯å¾„é…ç½®æ˜¯å¦æ­£ç¡®</li>
<li>åœ¨è¾“å‡ºé¢æ¿ä¸­æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼ˆ<code>Ctrl+Shift+U</code>ï¼‰</li>
<li>å¯èƒ½éœ€è¦é‡å¯Cursoræˆ–å¢åŠ JVMå†…å­˜</li>
</ul>
</li>
<li>
<p><strong>Mavené¡¹ç›®æ— æ³•è§£æä¾èµ–</strong></p>
<ul>
<li>æ£€æŸ¥Mavené…ç½®è·¯å¾„</li>
<li>ç¡®ä¿settings.xmlé…ç½®æ­£ç¡®</li>
<li>å°è¯•åœ¨ç»ˆç«¯ä¸­è¿è¡Œ <code>mvn clean install -U</code> å¼ºåˆ¶æ›´æ–°</li>
</ul>
</li>
<li>
<p><strong>æ— æ³•è°ƒè¯•Javaç¨‹åº</strong></p>
<ul>
<li>ç¡®è®¤JDKç‰ˆæœ¬ä¸é¡¹ç›®å…¼å®¹</li>
<li>æ£€æŸ¥launch.jsoné…ç½®</li>
<li>ç¡®ä¿é¡¹ç›®å·²æˆåŠŸç¼–è¯‘</li>
</ul>
</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[guava å¸¸ç”¨å·¥å…·ç±»]]></title>
        <id>https://a-jiang-pro.github.io/post/guava-chang-yong-gong-ju-lei/</id>
        <link href="https://a-jiang-pro.github.io/post/guava-chang-yong-gong-ju-lei/">
        </link>
        <updated>2024-08-01T17:38:23.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å­—ç¬¦å¤„ç†">å­—ç¬¦å¤„ç†</h2>
<h3 id="caseformat-å‘½åæ ¼å¼è½¬æ¢">CaseFormat å‘½åæ ¼å¼è½¬æ¢</h3>
<p>ç”¨äºåœ¨ä¸åŒçš„å‘½åæ ¼å¼ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚å¸¸è§çš„å‘½åæ ¼å¼åŒ…æ‹¬ä¸‹åˆ’çº¿åˆ†éš”ï¼ˆå¦‚ <code>LOWER_UNDERSCORE</code>ï¼‰ã€é©¼å³°å‘½åï¼ˆå¦‚ <code>LOWER_CAMEL</code> å’Œ <code>UPPER_CAMEL</code>ï¼‰ã€ä¸­åˆ’çº¿åˆ†éš”ï¼ˆå¦‚ <code>LOWER_HYPHEN</code>ï¼‰ç­‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ <code>CaseFormat</code> æ”¯æŒçš„å‡ ç§å‘½åæ ¼å¼ï¼š</p>
<ul>
<li>LOWER_HYPHENï¼ˆå¦‚ lower-hyphenï¼‰</li>
<li>LOWER_UNDERSCOREï¼ˆå¦‚ lower_underscoreï¼‰</li>
<li>LOWER_CAMELï¼ˆå¦‚ lowerCamelï¼‰</li>
<li>UPPER_CAMELï¼ˆå¦‚ UpperCamelï¼‰</li>
<li>UPPER_UNDERSCOREï¼ˆå¦‚ UPPER_UNDERSCOREï¼‰</li>
</ul>
<pre><code class="language-java"> 	    // ç¤ºä¾‹å­—ç¬¦ä¸²
        String lowerUnderscore = &quot;example_string&quot;;
        String lowerHyphen = &quot;example-string&quot;;
        String lowerCamel = &quot;exampleString&quot;;
        String upperCamel = &quot;ExampleString&quot;;
        String upperUnderscore = &quot;EXAMPLE_STRING&quot;;

		// ä¸‹åˆ’çº¿åˆ†éš” -&gt; é©¼å³°å‘½å
        String result1 = CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, lowerUnderscore);
        System.out.println(&quot;LOWER_UNDERSCORE to LOWER_CAMEL: &quot; + result1);

        // ä¸­åˆ’çº¿åˆ†éš” -&gt; ä¸‹åˆ’çº¿åˆ†éš”
        String result2 = CaseFormat.LOWER_HYPHEN.to(CaseFormat.LOWER_UNDERSCORE, lowerHyphen);
        System.out.println(&quot;LOWER_HYPHEN to LOWER_UNDERSCORE: &quot; + result2);

        // é©¼å³°å‘½å -&gt; å¤§å†™é©¼å³°å‘½å
        String result3 = CaseFormat.LOWER_CAMEL.to(CaseFormat.UPPER_CAMEL, lowerCamel);
        System.out.println(&quot;LOWER_CAMEL to UPPER_CAMEL: &quot; + result3);

        // å¤§å†™é©¼å³°å‘½å -&gt; ä¸‹åˆ’çº¿åˆ†éš”
        String result4 = CaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, upperCamel);
        System.out.println(&quot;UPPER_CAMEL to LOWER_UNDERSCORE: &quot; + result4);

        // å¤§å†™ä¸‹åˆ’çº¿åˆ†éš” -&gt; å°å†™ä¸­åˆ’çº¿åˆ†éš”
        String result5 = CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.LOWER_HYPHEN, upperUnderscore);
        System.out.println(&quot;UPPER_UNDERSCORE to LOWER_HYPHEN: &quot; + result5);
</code></pre>
<h3 id="charmatcher-å­—ç¬¦ä¸²çš„åŒ¹é…ä¸è¿‡æ»¤">CharMatcher å­—ç¬¦ä¸²çš„åŒ¹é…ä¸è¿‡æ»¤</h3>
<p>ç”¨äºå¤„ç†å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„åŒ¹é…ä¸è¿‡æ»¤ã€‚<code>CharMatcher</code> æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥åŒ¹é…ã€è¿‡æ»¤ã€æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œæ”¯æŒå¤šç§é¢„å®šä¹‰çš„åŒ¹é…å™¨ï¼ˆå¦‚åŒ¹é…å­—æ¯ã€æ•°å­—ã€ç©ºç™½å­—ç¬¦ç­‰ï¼‰ä»¥åŠè‡ªå®šä¹‰åŒ¹é…å™¨ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„ <code>CharMatcher</code> æ–¹æ³•å’Œé¢„å®šä¹‰çš„åŒ¹é…å™¨ï¼š</p>
<ul>
<li><code>CharMatcher.any()</code>: åŒ¹é…ä»»ä½•å­—ç¬¦ã€‚</li>
<li><code>CharMatcher.none()</code>: ä¸åŒ¹é…ä»»ä½•å­—ç¬¦ã€‚</li>
<li><code>CharMatcher.whitespace()</code>: åŒ¹é…ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰ã€‚</li>
<li><code>CharMatcher.digit()</code>: åŒ¹é…æ•°å­—å­—ç¬¦ã€‚</li>
<li><code>CharMatcher.javaLetter()</code>: åŒ¹é… Java å­—æ¯å­—ç¬¦ã€‚</li>
<li><code>CharMatcher.javaDigit()</code>: åŒ¹é… Java æ•°å­—å­—ç¬¦ã€‚</li>
<li><code>CharMatcher.is(char c)</code>: åŒ¹é…æŒ‡å®šçš„å­—ç¬¦ã€‚</li>
<li><code>CharMatcher.isNot(char c)</code>: åŒ¹é…ä¸æ˜¯æŒ‡å®šçš„å­—ç¬¦ã€‚</li>
<li><code>CharMatcher.inRange(char startInclusive, char endInclusive)</code>: åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ã€‚</li>
</ul>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ“ä½œæ–¹æ³•ï¼š</p>
<ul>
<li><code>retainFrom(CharSequence sequence)</code>: ä¿ç•™åŒ¹é…çš„å­—ç¬¦ã€‚</li>
<li><code>removeFrom(CharSequence sequence)</code>: ç§»é™¤åŒ¹é…çš„å­—ç¬¦ã€‚</li>
<li><code>replaceFrom(CharSequence sequence, char replacement)</code>: æ›¿æ¢åŒ¹é…çš„å­—ç¬¦ã€‚</li>
<li><code>collapseFrom(CharSequence sequence, char replacement)</code>: å°†è¿ç»­åŒ¹é…çš„å­—ç¬¦æ›¿æ¢ä¸ºå•ä¸ªå­—ç¬¦ã€‚</li>
<li><code>trimFrom(CharSequence sequence)</code>: å»é™¤å­—ç¬¦ä¸²å‰åçš„åŒ¹é…å­—ç¬¦ã€‚</li>
</ul>
<pre><code class="language-java">        String input = &quot;This is a sample text, 1234!&quot;;

        // ä¿ç•™æ•°å­—å­—ç¬¦
        String digitsOnly = CharMatcher.digit().retainFrom(input);
        System.out.println(&quot;Digits only: &quot; + digitsOnly); // è¾“å‡º: 1234

        // ç§»é™¤ç©ºç™½å­—ç¬¦
        String noWhitespace = CharMatcher.whitespace().removeFrom(input);
        System.out.println(&quot;No whitespace: &quot; + noWhitespace); // è¾“å‡º: Thisisasampletext,1234!

        // å°†æ‰€æœ‰å­—æ¯è½¬æ¢ä¸ºå¤§å†™
        String upperCaseLetters = CharMatcher.javaLetter().replaceFrom(input, c -&gt; Character.toUpperCase(c));
        System.out.println(&quot;Upper case letters: &quot; + upperCaseLetters); // è¾“å‡º: THIS IS A SAMPLE TEXT, 1234!

        // å°†è¿ç»­çš„ç©ºç™½å­—ç¬¦æ›¿æ¢ä¸ºå•ä¸ªç©ºæ ¼
        String collapsedWhitespace = CharMatcher.whitespace().collapseFrom(input, ' ');
        System.out.println(&quot;Collapsed whitespace: &quot; + collapsedWhitespace); // è¾“å‡º: This is a sample text, 1234!

        // å»é™¤å­—ç¬¦ä¸²å‰åçš„æ ‡ç‚¹ç¬¦å·
        String trimPunctuation = CharMatcher.javaLetterOrDigit().negate().trimFrom(input);
        System.out.println(&quot;Trim punctuation: &quot; + trimPunctuation); // è¾“å‡º: This is a sample text, 1234

        // è‡ªå®šä¹‰åŒ¹é…å™¨ï¼šåŒ¹é…æ‰€æœ‰å°å†™å­—æ¯
        CharMatcher lowerCaseMatcher = CharMatcher.inRange('a', 'z');
        String lowerCaseLetters = lowerCaseMatcher.retainFrom(input);
        System.out.println(&quot;Lower case letters: &quot; + lowerCaseLetters); // è¾“å‡º: hisisasampletext
 
</code></pre>
<h3 id="converter-ç±»å‹è½¬æ¢">Converter ç±»å‹è½¬æ¢</h3>
<p>ç”¨äºåœ¨ä¸¤ç§ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚<code>Converter</code> æä¾›äº†ä¸€ç§ç±»å‹å®‰å…¨çš„æ–¹å¼æ¥å®ç°åŒå‘è½¬æ¢ï¼Œå¯ä»¥å®šä¹‰ä»ç±»å‹ A åˆ°ç±»å‹ B çš„è½¬æ¢é€»è¾‘ï¼Œä»¥åŠä»ç±»å‹ B åˆ°ç±»å‹ A çš„é€†å‘è½¬æ¢é€»è¾‘ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ <code>Converter</code> ç±»çš„ä¸€äº›å…³é”®æ–¹æ³•ï¼š</p>
<ul>
<li><code>doForward(A a)</code>: å°†ç±»å‹ A è½¬æ¢ä¸ºç±»å‹ Bã€‚</li>
<li><code>doBackward(B b)</code>: å°†ç±»å‹ B è½¬æ¢ä¸ºç±»å‹ Aã€‚</li>
<li><code>convert(A a)</code>: è°ƒç”¨ <code>doForward</code> æ–¹æ³•è¿›è¡Œè½¬æ¢ã€‚</li>
<li><code>reverse()</code>: è¿”å›ä¸€ä¸ªæ–°çš„ <code>Converter</code>ï¼Œå…¶è½¬æ¢é€»è¾‘ä¸å½“å‰ <code>Converter</code> ç›¸åã€‚</li>
<li><code>andThen(Converter&lt;B, C&gt; other)</code>: è¿”å›ä¸€ä¸ªç»„åˆè½¬æ¢å™¨ï¼Œå…ˆåº”ç”¨å½“å‰è½¬æ¢å™¨å†åº”ç”¨ <code>other</code> è½¬æ¢å™¨ã€‚</li>
</ul>
<pre><code class="language-java">import com.google.common.base.Converter;

public class ConverterExample {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ°æ•´æ•°çš„è½¬æ¢å™¨
        Converter&lt;String, Integer&gt; stringToIntegerConverter = new Converter&lt;String, Integer&gt;() {
            @Override
            protected Integer doForward(String s) {
                return Integer.valueOf(s);
            }

            @Override
            protected String doBackward(Integer integer) {
                return integer.toString();
            }
        };

        // ä½¿ç”¨è½¬æ¢å™¨è¿›è¡Œæ­£å‘è½¬æ¢
        String str = &quot;1234&quot;;
        Integer intValue = stringToIntegerConverter.convert(str);
        System.out.println(&quot;String to Integer: &quot; + intValue); // è¾“å‡º: 1234

        // ä½¿ç”¨è½¬æ¢å™¨è¿›è¡Œåå‘è½¬æ¢
        String reversedStr = stringToIntegerConverter.reverse().convert(intValue);
        System.out.println(&quot;Integer to String: &quot; + reversedStr); // è¾“å‡º: 1234

        // åˆ›å»ºä¸€ä¸ªå°å†™åˆ°å¤§å†™çš„è½¬æ¢å™¨
        Converter&lt;String, String&gt; lowerToUpperConverter = new Converter&lt;String, String&gt;() {
            @Override
            protected String doForward(String s) {
                return s.toUpperCase();
            }

            @Override
            protected String doBackward(String s) {
                return s.toLowerCase();
            }
        };

        // ç»„åˆè½¬æ¢å™¨ï¼šå…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œå†å°†æ•´æ•°è½¬æ¢ä¸ºå¤§å†™å­—ç¬¦ä¸²
        Converter&lt;String, String&gt; combinedConverter = stringToIntegerConverter.andThen(new Converter&lt;Integer, String&gt;() {
            @Override
            protected String doForward(Integer integer) {
                return &quot;Number: &quot; + integer;
            }

            @Override
            protected Integer doBackward(String s) {
                return Integer.valueOf(s.replace(&quot;Number: &quot;, &quot;&quot;));
            }
        });

        // ä½¿ç”¨ç»„åˆè½¬æ¢å™¨è¿›è¡Œè½¬æ¢
        String combinedResult = combinedConverter.convert(str);
        System.out.println(&quot;Combined Converter Result: &quot; + combinedResult); // è¾“å‡º: Number: 1234

        // ä½¿ç”¨ç»„åˆè½¬æ¢å™¨è¿›è¡Œåå‘è½¬æ¢
        String originalStr = combinedConverter.reverse().convert(combinedResult);
        System.out.println(&quot;Original String: &quot; + originalStr); // è¾“å‡º: 1234
    }
}

</code></pre>
<h3 id="defaults-é»˜è®¤å€¼">Defaults é»˜è®¤å€¼</h3>
<p><code>com.google.common.base.Defaults</code> æ˜¯ Google Guava åº“ä¸­çš„ä¸€ä¸ªç±»ï¼Œç”¨äºæä¾› Java åŸºæœ¬æ•°æ®ç±»å‹å’Œä¸€äº›å¸¸è§å¯¹è±¡ç±»å‹çš„é»˜è®¤å€¼ã€‚è¿™ä¸ªç±»ä¸»è¦ç”¨åœ¨éœ€è¦é»˜è®¤å€¼çš„åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚åœ¨åå°„æˆ–è€…æ³›å‹ç¼–ç¨‹ä¸­ã€‚</p>
<pre><code class="language-java">        boolean defaultBoolean = Defaults.defaultValue(boolean.class);
        byte defaultByte = Defaults.defaultValue(byte.class);
        char defaultChar = Defaults.defaultValue(char.class);
        double defaultDouble = Defaults.defaultValue(double.class);
        float defaultFloat = Defaults.defaultValue(float.class);
        int defaultInt = Defaults.defaultValue(int.class);
        long defaultLong = Defaults.defaultValue(long.class);
        short defaultShort = Defaults.defaultValue(short.class);
</code></pre>
<h3 id="joiner-å¤šå­—ç¬¦ä¸²å¤„ç†">Joiner å¤šå­—ç¬¦ä¸²å¤„ç†</h3>
<p>ç”¨äºå°†å¤šä¸ªå­—ç¬¦ä¸²æˆ–å¯¹è±¡è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å®ƒæä¾›äº†ä¸€ç§ç®€æ´è€Œå¼ºå¤§çš„æ–¹å¼æ¥å¤„ç†å­—ç¬¦ä¸²è¿æ¥ï¼Œæ”¯æŒå¤„ç† <code>null</code> å€¼ä»¥åŠæŒ‡å®šåˆ†éš”</p>
<p><em>å¸¸ç”¨æ–¹æ³•</em></p>
<p><code>on(String delimiter)</code>: æŒ‡å®šåˆ†éš”ç¬¦ã€‚</p>
<p><code>skipNulls()</code>: è·³è¿‡ <code>null</code> å€¼ã€‚</p>
<p><code>useForNull(String nullText)</code>: å°† <code>null</code> å€¼æ›¿æ¢ä¸ºæŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚</p>
<p><code>join(Iterable&lt;?&gt; parts)</code>: å°†é›†åˆä¸­çš„å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<p><code>join(Object[] parts)</code>: å°†æ•°ç»„ä¸­çš„å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<p><code>join(Object first, Object second, Object... rest)</code>: å°†å¤šä¸ªå‚æ•°è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<h3 id="splitter-å­—ç¬¦ä¸²æ‹†åˆ†">Splitter å­—ç¬¦ä¸²æ‹†åˆ†</h3>
<p>ç”¨äºå°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå­å­—ç¬¦ä¸²ã€‚å®ƒæä¾›äº†æ¯” <code>String.split</code> æ›´åŠ çµæ´»å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æ‹†åˆ†æ¨¡å¼å’Œé€‰é¡¹ï¼Œä¾‹å¦‚å»é™¤ç©ºç™½å­—ç¬¦ä¸²ã€å»é™¤ç»“æœä¸­çš„ç©ºæ ¼ã€é™åˆ¶æ‹†åˆ†ç»“æœçš„æ•°é‡ç­‰ã€‚</p>
<p><em>å¸¸ç”¨æ–¹æ³•</em></p>
<ol>
<li>
<p><strong>åŸºç¡€æ‹†åˆ†</strong>ï¼š</p>
<ul>
<li><code>Splitter.on(char separator)</code>: åŸºäºå•ä¸ªå­—ç¬¦è¿›è¡Œæ‹†åˆ†ã€‚</li>
<li><code>Splitter.on(String separator)</code>: åŸºäºå­—ç¬¦ä¸²è¿›è¡Œæ‹†åˆ†ã€‚</li>
<li><code>Splitter.onPattern(String pattern)</code>: åŸºäºæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ‹†åˆ†ã€‚</li>
<li><code>Splitter.on(CharMatcher charMatcher)</code>: åŸºäº <code>CharMatcher</code> è¿›è¡Œæ‹†åˆ†ã€‚</li>
</ul>
</li>
<li>
<p><strong>é…ç½®é€‰é¡¹</strong>ï¼š</p>
<ul>
<li><code>omitEmptyStrings()</code>: å¿½ç•¥ç©ºå­—ç¬¦ä¸²ã€‚</li>
<li><code>trimResults()</code>: å»é™¤ç»“æœä¸­çš„ç©ºæ ¼ã€‚</li>
<li><code>trimResults(CharMatcher charMatcher)</code>: æ ¹æ® <code>CharMatcher</code> å»é™¤ç»“æœä¸­çš„å­—ç¬¦ã€‚</li>
<li><code>limit(int limit)</code>: é™åˆ¶æ‹†åˆ†ç»“æœçš„æ•°é‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç»“æœç±»å‹</strong>ï¼š</p>
<ul>
<li><code>split(CharSequence sequence)</code>: æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œè¿”å› <code>Iterable&lt;String&gt;</code>ã€‚</li>
<li><code>splitToList(CharSequence sequence)</code>: æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œè¿”å› <code>List&lt;String&gt;</code>ã€‚</li>
<li><code>splitToMap(CharSequence sequence)</code>: å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºé”®å€¼å¯¹ï¼Œè¿”å› <code>Map&lt;String, String&gt;</code>ã€‚</li>
</ul>
</li>
<li></li>
</ol>
<h3 id="strings-å­—ç¬¦ä¸²å¤„ç†">Strings å­—ç¬¦ä¸²å¤„ç†</h3>
<p>æä¾›äº†è®¸å¤šé™æ€æ–¹æ³•ï¼Œç”¨äºå¤„ç†å’Œæ“ä½œå­—ç¬¦ä¸²ã€‚å®ƒåŒ…å«äº†å¾ˆå¤šå¸¸ç”¨çš„å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•ï¼Œå¯ä»¥ç®€åŒ–ä»£ç å¹¶æé«˜å¯è¯»æ€§ã€‚</p>
<p><em>å¸¸ç”¨æ–¹æ³•</em></p>
<ol>
<li><strong>ç©ºå­—ç¬¦ä¸²å¤„ç†</strong>ï¼š
<ul>
<li><code>isNullOrEmpty(String string)</code>: æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸º <code>null</code> æˆ–ç©ºã€‚</li>
<li><code>nullToEmpty(String string)</code>: å°† <code>null</code> è½¬æ¢ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</li>
<li><code>emptyToNull(String string)</code>: å°†ç©ºå­—ç¬¦ä¸²è½¬æ¢ä¸º <code>null</code>ã€‚</li>
</ul>
</li>
<li><strong>å¡«å……å’Œé‡å¤</strong>ï¼š
<ul>
<li><code>padStart(String string, int minLength, char padChar)</code>: ç”¨æŒ‡å®šå­—ç¬¦åœ¨å­—ç¬¦ä¸²å¼€å¤´è¿›è¡Œå¡«å……ï¼Œä½¿å…¶è¾¾åˆ°æŒ‡å®šé•¿åº¦ã€‚</li>
<li><code>padEnd(String string, int minLength, char padChar)</code>: ç”¨æŒ‡å®šå­—ç¬¦åœ¨å­—ç¬¦ä¸²æœ«å°¾è¿›è¡Œå¡«å……ï¼Œä½¿å…¶è¾¾åˆ°æŒ‡å®šé•¿åº¦ã€‚</li>
<li><code>repeat(String string, int count)</code>: é‡å¤å­—ç¬¦ä¸²æŒ‡å®šæ¬¡æ•°ã€‚</li>
</ul>
</li>
<li><strong>å¸¸ç”¨æ–¹æ³•</strong>ï¼š
<ul>
<li><code>commonPrefix(CharSequence a, CharSequence b)</code>: è¿”å›ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å…¬å…±å‰ç¼€ã€‚</li>
<li><code>commonSuffix(CharSequence a, CharSequence b)</code>: è¿”å›ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å…¬å…±åç¼€ã€‚</li>
</ul>
</li>
</ol>
<h2 id="é›†åˆå¤„ç†">é›†åˆå¤„ç†</h2>
<h3 id="lists">Lists</h3>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<ol>
<li><strong><code>Lists.newArrayList()</code></strong>: åˆ›å»ºä¸€ä¸ªå¯å˜çš„ã€ç©ºçš„ <code>ArrayList</code>ã€‚</li>
<li><strong><code>Lists.newArrayList(E... elements)</code></strong>: ä½¿ç”¨æŒ‡å®šçš„å…ƒç´ åˆ›å»ºä¸€ä¸ªå¯å˜çš„ <code>ArrayList</code>ã€‚</li>
<li>**<code>Lists.newLinkedList(): </code>**åˆ›å»ºä¸€ä¸ªå¯å˜çš„ã€ç©ºçš„ <code>LinkedList</code>ã€‚</li>
<li><strong><code>Lists.partition(List&lt;T&gt; list, int size)</code></strong>: å°†ä¸€ä¸ª <code>List</code> åˆ†å‰²æˆè‹¥å¹²ä¸ªå­åˆ—è¡¨ï¼Œæ¯ä¸ªå­åˆ—è¡¨çš„å¤§å°ä¸ºæŒ‡å®šçš„ <code>size</code>ã€‚</li>
<li><strong><code>Lists.reverse(List&lt;T&gt; list)</code></strong>:   è¿”å›ä¸€ä¸ªåŒ…å«ç›¸åŒå…ƒç´ ä½†é¡ºåºç›¸åçš„ <code>List</code>ã€‚</li>
<li><strong><code>Lists.transform(List&lt;F&gt; fromList, Function&lt;? super F, ? extends T&gt; function)</code></strong>:  è¿”å›ä¸€ä¸ªæ–°çš„ <code>List</code>ï¼Œè¯¥åˆ—è¡¨æ˜¯é€šè¿‡å°†ç»™å®šåˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ä¼ é€’ç»™ç»™å®šå‡½æ•°çš„ç»“æœæ„æˆçš„è§†å›¾ã€‚</li>
</ol>
<h3 id="maps">Maps</h3>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<ol>
<li>**<code>Maps.newHashMap(): </code>**åˆ›å»ºä¸€ä¸ªç©ºçš„ã€å¯å˜çš„ <code>HashMap</code>ã€‚</li>
<li><strong><code>Maps.newHashMapWithExpectedSize(int expectedSize)</code></strong>: åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šåˆå§‹å®¹é‡çš„ <code>HashMap</code>ã€‚</li>
<li>**<code>Maps.newLinkedHashMap(): </code>**åˆ›å»ºä¸€ä¸ªç©ºçš„ã€å¯å˜çš„ <code>LinkedHashMap</code>ã€‚</li>
<li>**<code>Maps.newTreeMap(): </code>**åˆ›å»ºä¸€ä¸ªç©ºçš„ã€å¯å˜çš„ <code>TreeMap</code>ã€‚</li>
<li><strong><code>Maps.newConcurrentMap()</code></strong>: åˆ›å»ºä¸€ä¸ªç©ºçš„ã€å¯å˜çš„ <code>ConcurrentMap</code>ã€‚</li>
<li><strong><code>Maps.uniqueIndex(Iterable&lt;V&gt; values, Function&lt;? super V, K&gt; keyFunction)</code></strong>: æ ¹æ®æŒ‡å®šçš„é”®å‡½æ•°åˆ›å»ºä¸€ä¸ª <code>ImmutableMap</code>ï¼Œé”®æ˜¯ç”±ç»™å®šå‡½æ•°ç”Ÿæˆçš„ã€‚</li>
<li><strong><code>Maps.difference(Map&lt;K, V&gt; left, Map&lt;K, V&gt; right)</code></strong>: è¿”å›ä¸¤ä¸ª <code>Map</code> çš„å·®å¼‚è§†å›¾ã€‚</li>
</ol>
<h3 id="range-èŒƒå›´">Range èŒƒå›´</h3>
<p><code>Range</code> ç±»å¯ä»¥è¡¨ç¤ºä¸€ä¸ªåŒºé—´ï¼Œå¦‚ [1, 5]ï¼Œ(1, 5]ï¼Œ[1, 5)ï¼Œ(1, 5) ç­‰ç­‰ã€‚å®ƒæ”¯æŒå„ç§å„æ ·çš„æ“ä½œï¼ŒåŒ…æ‹¬æ£€æŸ¥åŒºé—´æ˜¯å¦åŒ…å«æŸä¸ªå€¼ã€åŒºé—´æ˜¯å¦ç›¸äº¤ã€åŒºé—´çš„å¹¶é›†å’Œäº¤é›†ç­‰ã€‚</p>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<ol>
<li>**<code>Range.closed(C lower, C upper):</code>**åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‹é™å’Œä¸Šé™çš„èŒƒå›´ <code>[lower, upper]</code>ã€‚</li>
<li><strong><code>Range.closedOpen(C lower, C upper)</code></strong>:åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‹é™ä½†ä¸åŒ…å«ä¸Šé™çš„èŒƒå›´ <code>[lower, upper)</code>ã€‚</li>
<li><strong><code>Range.openClosed(C lower, C upper)</code></strong>:åˆ›å»ºä¸€ä¸ªä¸åŒ…å«ä¸‹é™ä½†åŒ…å«ä¸Šé™çš„èŒƒå›´ <code>(lower, upper]</code>ã€‚</li>
<li><strong><code>Range.open(C lower, C upper)</code></strong>:åˆ›å»ºä¸€ä¸ªä¸åŒ…å«ä¸‹é™å’Œä¸Šé™çš„èŒƒå›´ <code>(lower, upper)</code>ã€‚</li>
<li><strong><code>Range.atLeast(C endpoint)</code></strong>:åˆ›å»ºä¸€ä¸ªä»æŒ‡å®šå€¼å¼€å§‹çš„èŒƒå›´ <code>[endpoint, âˆ)</code>ã€‚</li>
<li><strong><code>Range.atMost(C endpoint)</code></strong>:åˆ›å»ºä¸€ä¸ªåˆ°æŒ‡å®šå€¼ä¸ºæ­¢çš„èŒƒå›´ <code>(-âˆ, endpoint]</code>ã€‚</li>
<li><strong><code>Range.greaterThan(C endpoint)</code></strong>:åˆ›å»ºä¸€ä¸ªå¤§äºæŒ‡å®šå€¼çš„èŒƒå›´ <code>(endpoint, âˆ)</code>ã€‚</li>
<li><strong><code>Range.lessThan(C endpoint)</code></strong>:åˆ›å»ºä¸€ä¸ªå°äºæŒ‡å®šå€¼çš„èŒƒå›´ <code>(-âˆ, endpoint)</code>ã€‚</li>
<li><strong><code>Range.contains(C value)</code></strong>:æ£€æŸ¥èŒƒå›´æ˜¯å¦åŒ…å«æŒ‡å®šå€¼ã€‚</li>
<li><strong><code>Range.isConnected(Range&lt;C&gt; other)</code></strong>:æ£€æŸ¥ä¸¤ä¸ªèŒƒå›´æ˜¯å¦ç›¸è¿ã€‚</li>
<li><strong><code>Range.intersection(Range&lt;C&gt; connectedRange)</code></strong>:è¿”å›ä¸¤ä¸ªç›¸è¿èŒƒå›´çš„äº¤é›†ã€‚</li>
<li><strong><code>Range.span(Range&lt;C&gt; other)</code></strong>:è¿”å›ä¸¤ä¸ªèŒƒå›´çš„å¹¶é›†ã€‚</li>
</ol>
<h3 id="set">Set</h3>
<p><strong>å¸¸ç”¨æ–¹æ³•</strong></p>
<ol>
<li>**<code>Sets.newHashSet()</code>**åˆ›å»ºä¸€ä¸ªç©ºçš„ <code>HashSet</code>ã€‚</li>
<li>**<code>Sets.newHashSet(E... elements)</code>**åˆ›å»ºä¸€ä¸ªåŒ…å«æŒ‡å®šå…ƒç´ çš„ <code>HashSet</code>ã€‚</li>
<li>**<code>Sets.newHashSetWithExpectedSize(int expectedSize)</code>**åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šåˆå§‹å®¹é‡çš„ <code>HashSet</code>ã€‚</li>
<li>**<code>Sets.newLinkedHashSet()</code>**åˆ›å»ºä¸€ä¸ªç©ºçš„ <code>LinkedHashSet</code>ã€‚</li>
<li>**<code>Sets.newLinkedHashSet(Iterable&lt;? extends E&gt; elements)</code>**åˆ›å»ºä¸€ä¸ªåŒ…å«æŒ‡å®šå…ƒç´ çš„ <code>LinkedHashSet</code>ã€‚</li>
<li>**<code>Sets.newTreeSet()</code>**åˆ›å»ºä¸€ä¸ªç©ºçš„ <code>TreeSet</code>ã€‚</li>
<li>**<code>Sets.newTreeSet(Comparator&lt;? super E&gt; comparator)</code>**åˆ›å»ºä¸€ä¸ªå¸¦æœ‰æ¯”è¾ƒå™¨çš„ç©º <code>TreeSet</code>ã€‚</li>
<li>**<code>Sets.union(Set&lt;E&gt; set1, Set&lt;E&gt; set2)</code>**è¿”å›ä¸¤ä¸ªé›†åˆçš„å¹¶é›†ã€‚</li>
<li>**<code>Sets.intersection(Set&lt;E&gt; set1, Set&lt;E&gt; set2)</code>**è¿”å›ä¸¤ä¸ªé›†åˆçš„äº¤é›†ã€‚</li>
<li>**<code>Sets.difference(Set&lt;E&gt; set1, Set&lt;E&gt; set2)</code>**è¿”å›ç¬¬ä¸€ä¸ªé›†åˆä¸ç¬¬äºŒä¸ªé›†åˆçš„å·®é›†ã€‚</li>
<li>**<code>Sets.symmetricDifference(Set&lt;E&gt; set1, Set&lt;E&gt; set2)</code>**è¿”å›ä¸¤ä¸ªé›†åˆçš„å¯¹ç§°å·®é›†ã€‚</li>
<li>**<code>Sets.cartesianProduct(Set&lt;E&gt;... sets)</code>**è¿”å›å¤šä¸ªé›†åˆçš„ç¬›å¡å°”ç§¯ã€‚</li>
<li>**<code>Sets.powerSet(Set&lt;E&gt; set)</code>**è¿”å›ç»™å®šé›†åˆçš„å¹‚é›†ã€‚</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JPA å°æ–¹æ³•]]></title>
        <id>https://a-jiang-pro.github.io/post/jpa-xiao-fang-fa/</id>
        <link href="https://a-jiang-pro.github.io/post/jpa-xiao-fang-fa/">
        </link>
        <updated>2024-04-25T16:41:02.000Z</updated>
        <content type="html"><![CDATA[<h2 id="1ç”Ÿå‘½å‘¨æœŸæ³¨è§£">1.ç”Ÿå‘½å‘¨æœŸæ³¨è§£</h2>
<p>JPA ç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p>
<ol>
<li><code>@PrePersist</code>: åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹å‰è°ƒç”¨ã€‚</li>
<li><code>@PostPersist</code>: åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹åè°ƒç”¨ã€‚</li>
<li><code>@PreUpdate</code>: åœ¨å®ä½“å¯¹è±¡æ›´æ–°åˆ°æ•°æ®åº“ä¹‹å‰è°ƒç”¨ã€‚</li>
<li><code>@PostUpdate</code>: åœ¨å®ä½“å¯¹è±¡æ›´æ–°åˆ°æ•°æ®åº“ä¹‹åè°ƒç”¨ã€‚</li>
<li><code>@PreRemove</code>: åœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“ä¸­ç§»é™¤ä¹‹å‰è°ƒç”¨ã€‚</li>
<li><code>@PostRemove</code>: åœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“ä¸­ç§»é™¤ä¹‹åè°ƒç”¨ã€‚</li>
<li><code>@PostLoad</code>: åœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“åŠ è½½åˆ°å†…å­˜åè°ƒç”¨ã€‚</li>
</ol>
<h3 id="1-entitylisteners">1. @EntityListeners</h3>
<blockquote>
<p><strong><code>@EntityListeners</code> æ˜¯ Java Persistence API (JPA) ä¸­çš„ä¸€ä¸ªæ³¨è§£ï¼Œç”¨äºå°†å®ä½“ç›‘å¬å™¨ï¼ˆEntity Listenersï¼‰ä¸ç‰¹å®šçš„å®ä½“ç±»å…³è”èµ·æ¥ã€‚å®ä½“ç›‘å¬å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œç”¨äºåœ¨å®ä½“å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚<code>@EntityListeners</code> æ³¨è§£çš„ä½œç”¨æ˜¯å°†è¿™äº›ç›‘å¬å™¨ä¸å®ä½“ç±»è¿›è¡Œç»‘å®šï¼Œä»¥ä¾¿åœ¨å®ä½“ç±»è§¦å‘ç›¸åº”äº‹ä»¶æ—¶è°ƒç”¨ç›‘å¬å™¨ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
@EntityListeners(EmployeeListener.class)
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;
}

public class EmployeeListener {
    @PrePersist
    public void prePersist(Employee employee) {
        // åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹å‰è°ƒç”¨
        System.out.println(&quot;Employee prePersist: &quot; + employee.getName());
    }

    @PostPersist
    public void postPersist(Employee employee) {
        // åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹åè°ƒç”¨
        System.out.println(&quot;Employee postPersist: &quot; + employee.getName());
    }

 
}
</code></pre>
<h3 id="2-prepersist">2. @PrePersist</h3>
<blockquote>
<p><strong><code>@PrePersist</code> æ˜¯ Java Persistence API (JPA) çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹å‰è¦æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“æ‰§è¡ŒæŒä¹…åŒ–æ“ä½œæ—¶ï¼Œä¾‹å¦‚è°ƒç”¨ <code>EntityManager</code> çš„ <code>persist</code> æ–¹æ³•ä¿å­˜å®ä½“å¯¹è±¡æ—¶ï¼Œè¢«æ ‡è®°äº† <code>@PrePersist</code> æ³¨è§£çš„æ–¹æ³•å°†åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–ä¹‹å‰è¢«è°ƒç”¨ã€‚</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;

    @PrePersist
    public void prePersist() {
        // åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹å‰è°ƒç”¨
        System.out.println(&quot;PrePersist: &quot; + name);
        // å¯åœ¨è¿™é‡Œæ‰§è¡Œå…¶ä»–é€»è¾‘æ“ä½œ
    }
}
</code></pre>
<h3 id="3-postpersist">3. @PostPersist</h3>
<blockquote>
<p><strong><code>@PostPersist</code> æ˜¯ Java Persistence API (JPA) çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹åè¦æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“æ‰§è¡ŒæŒä¹…åŒ–æ“ä½œæ—¶ï¼Œä¾‹å¦‚è°ƒç”¨ <code>EntityManager</code> çš„ <code>persist</code> æ–¹æ³•ä¿å­˜å®ä½“å¯¹è±¡åï¼Œè¢«æ ‡è®°äº† <code>@PostPersist</code> æ³¨è§£çš„æ–¹æ³•å°†åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–ä¹‹åè¢«è°ƒç”¨ã€‚</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;

    @PostPersist
    public void postPersist() {
        // åœ¨å®ä½“å¯¹è±¡è¢«æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¹‹åè°ƒç”¨
        System.out.println(&quot;PostPersist: &quot; + name);
        // å¯åœ¨è¿™é‡Œæ‰§è¡Œå…¶ä»–é€»è¾‘æ“ä½œ
    }
}
</code></pre>
<h3 id="4-preupdate">4. @PreUpdate</h3>
<blockquote>
<p><strong><code>@PreUpdate</code> æ˜¯ Java Persistence API (JPA) çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨å®ä½“å¯¹è±¡æ›´æ–°åˆ°æ•°æ®åº“ä¹‹å‰è¦æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“æ‰§è¡Œæ›´æ–°æ“ä½œæ—¶ï¼Œä¾‹å¦‚è°ƒç”¨ <code>EntityManager</code> çš„ <code>merge</code> æ–¹æ³•æ›´æ–°å®ä½“å¯¹è±¡æ—¶ï¼Œè¢«æ ‡è®°äº† <code>@PreUpdate</code> æ³¨è§£çš„æ–¹æ³•å°†åœ¨å®ä½“å¯¹è±¡æ›´æ–°ä¹‹å‰è¢«è°ƒç”¨</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;

    @PreUpdate
    public void preUpdate() {
        // åœ¨å®ä½“å¯¹è±¡æ›´æ–°åˆ°æ•°æ®åº“ä¹‹å‰è°ƒç”¨
        System.out.println(&quot;PreUpdate: &quot; + name);
        // å¯åœ¨è¿™é‡Œæ‰§è¡Œå…¶ä»–é€»è¾‘æ“ä½œ
    }
}
</code></pre>
<h3 id="5-postupdate">5. @PostUpdate</h3>
<blockquote>
<p><strong><code>@PostUpdate</code> æ˜¯ Java Persistence API (JPA) çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨å®ä½“å¯¹è±¡æ›´æ–°åˆ°æ•°æ®åº“ä¹‹åè¦æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“æ‰§è¡Œæ›´æ–°æ“ä½œæ—¶ï¼Œä¾‹å¦‚è°ƒç”¨ <code>EntityManager</code> çš„ <code>merge</code> æ–¹æ³•æ›´æ–°å®ä½“å¯¹è±¡åï¼Œè¢«æ ‡è®°äº† <code>@PostUpdate</code> æ³¨è§£çš„æ–¹æ³•å°†åœ¨å®ä½“å¯¹è±¡æ›´æ–°ä¹‹åè¢«è°ƒç”¨</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;

    @PostUpdate
    public void postUpdate() {
        // åœ¨å®ä½“å¯¹è±¡æ›´æ–°åˆ°æ•°æ®åº“ä¹‹åè°ƒç”¨
        System.out.println(&quot;PostUpdate: &quot; + name);
        // å¯åœ¨è¿™é‡Œæ‰§è¡Œå…¶ä»–é€»è¾‘æ“ä½œ
    }
}
</code></pre>
<h3 id="6-preremove">6. @PreRemove</h3>
<blockquote>
<p><strong><code>@PreRemove</code> æ˜¯ Java Persistence API (JPA) çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“ä¸­ç§»é™¤ä¹‹å‰è¦æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œä¾‹å¦‚è°ƒç”¨ <code>EntityManager</code> çš„ <code>remove</code> æ–¹æ³•åˆ é™¤å®ä½“å¯¹è±¡æ—¶ï¼Œè¢«æ ‡è®°äº† <code>@PreRemove</code> æ³¨è§£çš„æ–¹æ³•å°†åœ¨å®ä½“å¯¹è±¡è¢«ç§»é™¤ä¹‹å‰è¢«è°ƒç”¨ã€‚</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;

    @PreRemove
    public void preRemove() {
        // åœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“ä¸­ç§»é™¤ä¹‹å‰è°ƒç”¨
        System.out.println(&quot;PreRemove: &quot; + name);
        // å¯åœ¨è¿™é‡Œæ‰§è¡Œå…¶ä»–é€»è¾‘æ“ä½œ
    }
}
</code></pre>
<h3 id="7-postremove">7. @PostRemove</h3>
<blockquote>
<p>** <code>@PostRemove</code> æ˜¯ Java Persistence API (JPA) çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“ä¸­ç§»é™¤ä¹‹åè¦æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œä¾‹å¦‚è°ƒç”¨ <code>EntityManager</code> çš„ <code>remove</code> æ–¹æ³•åˆ é™¤å®ä½“å¯¹è±¡åï¼Œè¢«æ ‡è®°äº† <code>@PostRemove</code> æ³¨è§£çš„æ–¹æ³•å°†åœ¨å®ä½“å¯¹è±¡è¢«ç§»é™¤ä¹‹åè¢«è°ƒç”¨ã€‚**</p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;

    @PostRemove
    public void postRemove() {
        // åœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“ä¸­ç§»é™¤ä¹‹åè°ƒç”¨
        System.out.println(&quot;PostRemove: &quot; + name);
        // å¯åœ¨è¿™é‡Œæ‰§è¡Œå…¶ä»–é€»è¾‘æ“ä½œ
    }

}
</code></pre>
<h3 id="8-postload">8. @PostLoad</h3>
<blockquote>
<p><strong><code>@PostLoad</code> æ˜¯ Java Persistence API (JPA) çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶æ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“åŠ è½½åˆ°å†…å­˜åè¦æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“ä»æ•°æ®åº“ä¸­æ£€ç´¢å®ä½“å¯¹è±¡æ—¶ï¼Œè¢«æ ‡è®°äº† <code>@PostLoad</code> æ³¨è§£çš„æ–¹æ³•å°†åœ¨å®ä½“å¯¹è±¡åŠ è½½åˆ°å†…å­˜åè¢«è°ƒç”¨ã€‚</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;

    @PostLoad
    public void postLoad() {
        // åœ¨å®ä½“å¯¹è±¡ä»æ•°æ®åº“åŠ è½½åˆ°å†…å­˜åè°ƒç”¨
        System.out.println(&quot;PostLoad: &quot; + name);
        // å¯åœ¨è¿™é‡Œæ‰§è¡Œå…¶ä»–é€»è¾‘æ“ä½œ
    }

}
</code></pre>
<h3 id="9-dynamicupdate">9. @DynamicUpdate</h3>
<blockquote>
<p><strong><code>@DynamicUpdate</code> æ˜¯ Hibernate æ¡†æ¶æä¾›çš„ä¸€ä¸ªæ³¨è§£ï¼Œç”¨äºæŒ‡å®šåªæ›´æ–°å‘ç”Ÿå˜åŒ–çš„å­—æ®µåˆ°æ•°æ®åº“ï¼Œè€Œå¿½ç•¥æœªå‘ç”Ÿå˜åŒ–çš„å­—æ®µã€‚å®ƒå¯ä»¥åº”ç”¨äºå®ä½“ç±»ä¸Šï¼Œè¡¨ç¤ºåœ¨æ‰§è¡Œæ›´æ–°æ“ä½œæ—¶ï¼Œåªæ›´æ–°è¢«ä¿®æ”¹çš„å­—æ®µï¼Œè€Œä¸æ›´æ–°æ‰€æœ‰å­—æ®µã€‚</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
@Table(name = &quot;employees&quot;)
@DynamicUpdate
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;
    private double salary;
}
</code></pre>
<p>æ‰§è¡Œæ•°æ®æ“ä½œ</p>
<pre><code class="language-java">public class Main {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPersistenceUnit&quot;);
        EntityManager em = emf.createEntityManager();

        // åˆ›å»ºä¸€ä¸ªæ–°çš„ Employee å¯¹è±¡
        Employee employee = new Employee();
        employee.setName(&quot;John&quot;);
        employee.setDepartment(&quot;IT&quot;);
        employee.setSalary(5000.0);

        // å°†å¯¹è±¡ä¿å­˜åˆ°æ•°æ®åº“
        em.getTransaction().begin();
        em.persist(employee);
        em.getTransaction().commit();

        // æ›´æ–° Employee å¯¹è±¡çš„éƒ¨é—¨å’Œè–ªæ°´å­—æ®µ
        em.getTransaction().begin();
        employee.setDepartment(&quot;HR&quot;);
        employee.setSalary(6000.0);
        em.getTransaction().commit();

        em.close();
        emf.close();
    }
}
</code></pre>
<p>ä½¿ç”¨ <code>@DynamicUpdate</code> æ³¨è§£æ—¶ç”Ÿæˆçš„æ›´æ–°è¯­å¥ï¼ˆåªæ›´æ–°å‘ç”Ÿå˜åŒ–çš„å­—æ®µï¼‰ï¼š</p>
<pre><code class="language-sql">UPDATE employees SET department = 'HR', salary = 6000.0 WHERE id = 1;
</code></pre>
<p>æœªä½¿ç”¨ <code>@DynamicUpdate</code> æ³¨è§£æ—¶ç”Ÿæˆçš„æ›´æ–°è¯­å¥ï¼ˆæ›´æ–°æ‰€æœ‰å­—æ®µï¼‰ï¼š</p>
<pre><code class="language-sql">UPDATE employees SET name = 'John', department = 'HR', salary = 6000.0 WHERE id = 1;
</code></pre>
<h3 id="10-dynamicinsert">10. @DynamicInsert</h3>
<blockquote>
<p><strong><code>@DynamicInsert</code> æ˜¯ Hibernate æ¡†æ¶æä¾›çš„ä¸€ä¸ªæ³¨è§£ï¼Œç”¨äºæŒ‡å®šåœ¨æ‰§è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œåªæ’å…¥éç©ºå­—æ®µåˆ°æ•°æ®åº“ï¼Œè€Œå¿½ç•¥ç©ºå€¼å­—æ®µã€‚å®ƒå¯ä»¥åº”ç”¨äºå®ä½“ç±»ä¸Šï¼Œè¡¨ç¤ºåœ¨æ‰§è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œåªæ’å…¥éç©ºå­—æ®µï¼Œè€Œä¸æ’å…¥ç©ºå€¼å­—æ®µã€‚</strong></p>
</blockquote>
<pre><code class="language-java">import javax.persistence.*;

@Entity
@Table(name = &quot;employees&quot;)
@DynamicInsert
public class Employee {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String department;
    private double salary;

}
</code></pre>
<p>æ‰§è¡Œæ•°æ®æ“ä½œ</p>
<pre><code class="language-java">public class Main {
    public static void main(String[] args) {
        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPersistenceUnit&quot;);
        EntityManager em = emf.createEntityManager();

        // åˆ›å»ºä¸€ä¸ªæ–°çš„ Employee å¯¹è±¡
        Employee employee = new Employee();
        employee.setName(&quot;John&quot;);
        employee.setDepartment(&quot;IT&quot;);

        // å°†å¯¹è±¡ä¿å­˜åˆ°æ•°æ®åº“
        em.getTransaction().begin();
        em.persist(employee);
        em.getTransaction().commit();

        em.close();
        emf.close();
    }
}
</code></pre>
<p>ä½¿ç”¨ <code>@DynamicInsert</code> æ³¨è§£æ—¶ç”Ÿæˆçš„æ›´æ–°è¯­å¥ï¼ˆåªæ’å…¥éç©ºå­—æ®µï¼‰ï¼š</p>
<pre><code class="language-sql">INSERT INTO employees (name, department) VALUES ('John', 'IT');
</code></pre>
<p>æœªä½¿ç”¨ <code>@DynamicInsert</code> æ³¨è§£æ—¶ç”Ÿæˆçš„æ›´æ–°è¯­å¥ï¼ˆæ’å…¥æ‰€æœ‰å­—æ®µï¼‰ï¼š</p>
<pre><code class="language-sql">INSERT INTO employees (id, name, department, salary) VALUES (1, 'John', 'IT', 5000.0);
</code></pre>
<h2 id="2-projectionsæŠ•å½±">2. Projectionsï¼ˆæŠ•å½±ï¼‰</h2>
<blockquote>
<p><strong><code>Projections</code> æ˜¯ä¸€ç§åŠŸèƒ½ï¼Œç”¨äºé€‰æ‹©å®ä½“ä¸­çš„ç‰¹å®šå­—æ®µï¼Œä»¥åˆ›å»ºè‡ªå®šä¹‰çš„æŠ•å½±å¯¹è±¡ã€‚æŠ•å½±å¯¹è±¡æ˜¯ä¸€ä¸ªæ¥å£æˆ–ç±»ï¼Œä»…åŒ…å«æ‚¨æ‰€é€‰æ‹©çš„å­—æ®µï¼Œè€Œä¸æ˜¯æ•´ä¸ªå®ä½“çš„æ‰€æœ‰å­—æ®µã€‚</strong></p>
<p><strong>é€šè¿‡ä½¿ç”¨æŠ•å½±ï¼Œæ‚¨å¯ä»¥åœ¨æŸ¥è¯¢ç»“æœä¸­è¿”å›ä»…åŒ…å«æ‰€éœ€å­—æ®µçš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„å®ä½“å¯¹è±¡ã€‚è¿™æœ‰åŠ©äºå‡å°‘æ•°æ®ä¼ è¾“é‡å’Œå†…å­˜æ¶ˆè€—ï¼Œæé«˜æ€§èƒ½ï¼Œå¹¶ä½¿æŸ¥è¯¢ç»“æœæ›´åŠ ç²¾ç¡®å’Œä¸“æ³¨ã€‚</strong></p>
</blockquote>
<h3 id="æ¥å£æŠ•å½±interface-projections">æ¥å£æŠ•å½±ï¼ˆInterface Projectionsï¼‰</h3>
<p><strong>æ¥å£æŠ•å½±ï¼ˆInterface Projectionsï¼‰ï¼šä½¿ç”¨æ¥å£æ¥å®šä¹‰æŠ•å½±å¯¹è±¡ï¼Œå¹¶åœ¨æ¥å£ä¸­å£°æ˜æ‰€éœ€çš„å­—æ®µè®¿é—®æ–¹æ³•ã€‚Spring Data JPA å°†æ ¹æ®æŠ•å½±æ¥å£çš„å®šä¹‰æ¥æ˜ å°„æŸ¥è¯¢ç»“æœï¼Œå¹¶è¿”å›ä»…åŒ…å«æ‰€éœ€å­—æ®µçš„æŠ•å½±å¯¹è±¡ã€‚</strong></p>
<pre><code class="language-java">public interface EmployeeProjection {
    String getName();
    String getDepartment();
}

List&lt;EmployeeProjection&gt; findByDepartment(String department);
</code></pre>
<h3 id="closed-projections">ï¼ˆClosed Projectionsï¼‰</h3>
<p><strong>ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»æ¥å®šä¹‰æŠ•å½±å¯¹è±¡ï¼Œå¹¶åœ¨ç±»ä¸­å£°æ˜æ‰€éœ€çš„å­—æ®µå’Œæ„é€ æ–¹æ³•ã€‚é€šè¿‡ä½¿ç”¨ <code>Projections.constructor</code> æ–¹æ³•ï¼Œæ‚¨å¯ä»¥å°†æŸ¥è¯¢ç»“æœæ˜ å°„åˆ°è‡ªå®šä¹‰çš„æŠ•å½±ç±»ï¼Œå¹¶é€‰æ‹©æ‰€éœ€çš„å­—æ®µã€‚</strong></p>
<pre><code class="language-java">public class EmployeeProjection {
    private String name;
    private String department;

    public EmployeeProjection(String name, String department) {
        this.name = name;
        this.department = department;
    }
}

List&lt;EmployeeProjection&gt; findByDepartment(String department);
</code></pre>
<h3 id="åŠ¨æ€æŠ•å½±-dynamic-projections">åŠ¨æ€æŠ•å½± (Dynamic Projections)</h3>
<p><strong>æ‚¨å¯ä»¥é€šè¿‡åŠ¨æ€æŠ•å½±å®ç°åœ¨è¿è¡Œæ—¶é€‰æ‹©ä¸åŒå­—æ®µçš„èƒ½åŠ›ã€‚åŠ¨æ€æŠ•å½±å…è®¸æ‚¨æ ¹æ®æŸ¥è¯¢éœ€æ±‚åœ¨è¿è¡Œæ—¶é€‰æ‹©è¦è¿”å›çš„å­—æ®µï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶å›ºå®šé€‰æ‹©å­—æ®µã€‚</strong></p>
<pre><code class="language-java">public interface PersonRepository extends Repository&lt;Person, Long&gt; {
    // ...

    &lt;T&gt; T findByLastName(String lastName, Class&lt;T&gt; type);
}


Person person = personRepository.findByLastName(&quot;Doe&quot;, Person.class);
PersonView personView = personRepository.findByLastName(&quot;Doe&quot;, PersonView.class);
PersonDto personDto = personRepository.findByLastName(&quot;Doe&quot;, PersonDto.class);
</code></pre>
<h3 id="å¼€æ”¾å¼æŠ•å½±open-projections">å¼€æ”¾å¼æŠ•å½±ï¼ˆopen projectionsï¼‰</h3>
<p><strong>å¼€æ”¾å¼æŠ•å½±ã€‚ è¿™äº›æŠ•å½±ä½¿æˆ‘ä»¬èƒ½å¤Ÿå®šä¹‰å…·æœ‰ä¸åŒ¹é…åç§°å’Œåœ¨è¿è¡Œæ—¶è®¡ç®—çš„è¿”å›å€¼çš„æ¥å£æ–¹æ³•ã€‚</strong></p>
<pre><code class="language-java">public interface PersonView {
    // ...

    @Value(&quot;#{target.firstName + ' ' + target.lastName}&quot;)
    String getFullName();
}

  PersonView findByLastName(String lastName);
</code></pre>
<h2 id="3-è§„èŒƒspecification">3. è§„èŒƒï¼ˆSpecificationï¼‰</h2>
<h3 id="åŸºæœ¬ä½¿ç”¨">åŸºæœ¬ä½¿ç”¨</h3>
<p><strong>ä½¿ç”¨ Spring Data JPA è¿›è¡Œå¤æ‚æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Specificationï¼ˆè§„èŒƒï¼‰æ¥æ„å»ºåŠ¨æ€æŸ¥è¯¢æ¡ä»¶ã€‚Specification å¯ä»¥å¸®åŠ©æ‚¨ä»¥ä¸€ç§ç±»å‹å®‰å…¨çš„æ–¹å¼æ ¹æ®è¿è¡Œæ—¶æ¡ä»¶åŠ¨æ€æ„å»ºæŸ¥è¯¢ã€‚</strong></p>
<pre><code class="language-java">import org.springframework.data.jpa.domain.Specification;

public class EmployeeSpecifications {
    public static Specification&lt;Employee&gt; hasName(String name) {
        return (root, query, criteriaBuilder) -&gt; {
            if (name != null) {
                return criteriaBuilder.equal(root.get(&quot;name&quot;), name);
            }
            return null;
        };
    }

    public static Specification&lt;Employee&gt; hasAgeGreaterThan(int age) {
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.greaterThan(root.get(&quot;age&quot;), age);
    }

    public static Specification&lt;Employee&gt; hasDepartment(String department) {
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;department&quot;), department);
    }

    // æ·»åŠ æ›´å¤šçš„ Specification æ–¹æ³•ï¼Œä»¥æ»¡è¶³æ‚¨çš„æŸ¥è¯¢éœ€æ±‚
}
</code></pre>
<p>Service</p>
<pre><code class="language-java">import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import java.util.List;

@Service
@Transactional
public class EmployeeService {
    private final EmployeeRepository employeeRepository;

    public EmployeeService(EmployeeRepository employeeRepository) {
        this.employeeRepository = employeeRepository;
    }

    public List&lt;Employee&gt; findEmployees(String name, int age, String department) {
        Specification&lt;Employee&gt; spec = Specification.where(EmployeeSpecifications.hasName(name))
                .and(EmployeeSpecifications.hasAgeGreaterThan(age))
                .and(EmployeeSpecifications.hasDepartment(department));

        return employeeRepository.findAll(spec);
    }
}
</code></pre>
<p>Repository</p>
<pre><code class="language-java">import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.JpaSpecificationExecutor;
import org.springframework.stereotype.Repository;

@Repository
public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt;, JpaSpecificationExecutor&lt;Employee&gt; {
}
</code></pre>
<p>å¤æ‚ä¸€ç‚¹çš„servier</p>
<pre><code class="language-java">    @Override
    public Page&lt;EsAlarm&gt; page(EsPageRspVO vo) {
        Assert.notNull(vo.getProjectId(), ResultCode.NO_PROJECT_ID.getMessage());
        //æ¡ä»¶å®šä¹‰
        Specification&lt;EsAlarm&gt; specification = (root, query, cb) -&gt; {
            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();


            Predicate deletedPredicate = cb.equal(root.get(EsAlarm.Fields.deleted), Deleted.UN_DELETED.getCode());
            predicates.add(deletedPredicate);

            Predicate projectPredicate = cb.equal(root.get(EsAlarm.Fields.projectId), vo.getProjectId());
            predicates.add(projectPredicate);

            if (vo.getProcessingStatus() != null) {
                Predicate predicate = cb.equal(root.get(EsAlarm.Fields.processingStatus), vo.getProcessingStatus());
                predicates.add(predicate);
            }

            if (StrUtil.isNotBlank(vo.getDeviceKeywords())) {
                Predicate predicate = cb.or(
                        cb.like(root.get(EsAlarm.Fields.deviceNo).as(String.class), StringConstant.likeString(vo.getDevice())),
                        cb.like(root.get(EsAlarm.Fields.deviceName).as(String.class), StringConstant.likeString(vo.getDevice()))
                );
                predicates.add(predicate);
            }

            return cb.and(predicates.toArray(new Predicate[0]));

        };
        Pageable pageable = PageRequest.of(vo.getPageNo() - 1, vo.getPageSize(), vo.getSortOption());
        //æŸ¥è¯¢
        return esAlarmRepository.findAll(specification, pageable);
    }
</code></pre>
<h3 id="å·¥å…·ç±»">å·¥å…·ç±»</h3>
<p>åŸºç¡€å·¥å…·ç±»</p>
<pre><code class="language-java">
import cn.hutool.core.collection.CollUtil;
import org.springframework.data.domain.Sort;
import org.springframework.data.jpa.domain.Specification;

import javax.persistence.criteria.*;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

/**
 *
 * @author yz
 * @date 2024/03/15
 */

public class JpaSpecification&lt;T&gt; {

    private final List&lt;Specification&lt;T&gt;&gt; specifications;
    private Sort sort;

    public JpaSpecification() {
        specifications = new ArrayList&lt;&gt;();
    }

    public static &lt;T&gt; JpaSpecification&lt;T&gt; getInstance() {
        return new JpaSpecification&lt;&gt;();
    }

    public JpaSpecification&lt;T&gt; addSpecification(Specification&lt;T&gt; specification) {
        if (specification != null) {
            specifications.add(specification);
        }

        return this;
    }

    public JpaSpecification&lt;T&gt; withSort(Sort sort) {
        this.sort = sort;
        return this;
    }


    public Specification&lt;T&gt; build() {
        return (Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) -&gt; {
            Predicate[] predicates = specifications.stream()
                    .map(spec -&gt; spec.toPredicate(root, query, criteriaBuilder))
                    .toArray(Predicate[]::new);

            query.where(predicates);

            if (sort != null) {
                query.orderBy(sort.stream()
                        .map(order -&gt; {
                            String property = order.getProperty();
                            Expression&lt;String&gt; orderExpr = root.get(property);
                            if (order.isIgnoreCase()) {
                                orderExpr = criteriaBuilder.lower(orderExpr);
                            }
                            return order.isAscending() ? criteriaBuilder.asc(orderExpr) : criteriaBuilder.desc(orderExpr);
                        })
                        .toArray(javax.persistence.criteria.Order[]::new));
            }

            return criteriaBuilder.and(predicates);
        };
    }

    public static &lt;T&gt; Specification&lt;T&gt; hasCreateTime(List&lt;Date&gt; queryTime) {
        if (CollUtil.isEmpty(queryTime)) {
            return null;
        }
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.between(root.get(&quot;createTime&quot;), queryTime.get(0), queryTime.get(1));
    }


    public static &lt;T&gt; Specification&lt;T&gt; hasDelete() {
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;deleted&quot;), 0);
    }

    public static &lt;T&gt; Specification&lt;T&gt; hasDeviceId(Integer deviceId) {
        if (deviceId == null) {
            return null;
        }
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;deviceId&quot;), deviceId);
    }

    public static &lt;T&gt; Specification&lt;T&gt; hasProjectId(Integer projectId) {
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(&quot;projectId&quot;), projectId);
    }
}
</code></pre>
<p>æ¨¡å—é€šç”¨å·¥å…·ç±»</p>
<pre><code class="language-java">
public class ElevatorSpecification&lt;T&gt; {

    private final JpaSpecification&lt;T&gt; jpaSpecifications;


    public ElevatorSpecification() {
        jpaSpecifications = new JpaSpecification&lt;&gt;();
    }

    public static &lt;T&gt; ElevatorSpecification&lt;T&gt; getInstance() {
        return new ElevatorSpecification&lt;&gt;();
    }

    public static Specification&lt;AirConditionerRecord&gt; hasAirOperationType(String code) {
        if (StrUtil.isNotBlank(code)) {
            return null;
        }
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(AirConditionerRecord.Fields.operationType), code);
    }

    public ElevatorSpecification&lt;T&gt; withSort(Sort sort) {
        jpaSpecifications.withSort(sort);
        return this;
    }

    public ElevatorSpecification&lt;T&gt; addSpecification(Specification&lt;T&gt; specification) {
        jpaSpecifications.addSpecification(specification);
        return this;
    }

    public Specification&lt;T&gt; build() {
        return jpaSpecifications.build();
    }

    public static &lt;T&gt; Specification&lt;T&gt; hasAirStatus(Integer value) {
        return (root, query, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(AirConditionerRecord.Fields.status), value);
    }


}

</code></pre>
<p>ä½¿ç”¨æ–¹æ³•</p>
<pre><code class="language-java">    default Optional&lt;AirConditionerRecord&gt; findLastSwitchRecord(Integer deviceId, Integer value, Integer projectId) {
        Specification&lt;AirConditionerRecord&gt; spec = ElevatorSpecification.&lt;AirConditionerRecord&gt;getInstance()
                .addSpecification(JpaSpecification.hasDelete())
                .addSpecification(JpaSpecification.hasProjectId(projectId))
                .addSpecification(JpaSpecification.hasDeviceId(deviceId))
                .addSpecification(ElevatorSpecification.hasAirOperationType(AirConditionerOperationTypeEnums.SWITCH.code))
                .addSpecification(ElevatorSpecification.hasAirStatus(value))
                .withSort(Sort.by(Sort.Direction.DESC, AirConditionerRecord.Fields.id))
                .build();
        return findOne(spec);
    }

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ oh-my-zsh å®‰è£…]]></title>
        <id>https://a-jiang-pro.github.io/post/oh-my-zsh-an-zhuang/</id>
        <link href="https://a-jiang-pro.github.io/post/oh-my-zsh-an-zhuang/">
        </link>
        <updated>2023-09-19T20:52:17.000Z</updated>
        <content type="html"><![CDATA[<h2 id="oh-my-zsh-å®‰è£…">oh-my-zsh å®‰è£…</h2>
<h3 id="1å®‰è£…-zsh">1.å®‰è£… zsh</h3>
<p><code>linux</code> ä¸‹ï¼š</p>
<pre><code class="language-shell"> yum install zsh
</code></pre>
<p><code>mac</code>ä¸‹ï¼š</p>
<pre><code class="language-shell">brew install zsh
</code></pre>
<h3 id="2å®‰è£…-oh-my-zsh">2.å®‰è£… oh-my-zsh</h3>
<pre><code class="language-shell"># è¿™é‡Œéœ€è¦ä¸‹è½½çš„æ˜¯https://github.com/ohmyzsh/ohmyzsh ,ä½†æ˜¯githubå› ä¸ºæŸäº›åŸå› ä¸‹ä¸æ¥,æ‰€ä»¥åé¢éƒ½ä½¿ç”¨gitee
wget https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh
# ç„¶åç»™install.shæ·»åŠ æƒé™ï¼š
chmod +x install.sh
</code></pre>
<p>ç¼–è¾‘ install.sh</p>
<pre><code class="language-shell">vim install.sh
</code></pre>
<p>æ‰¾åˆ°ä»¥ä¸‹éƒ¨åˆ†ä¿®æ”¹ï¼š</p>
<pre><code class="language-sh"># Default settings
REPO=${REPO:-ohmyzsh/ohmyzsh}
REMOTE=${REMOTE:-https://github.com/${REPO}.git}
BRANCH=${BRANCH:-master}
# ä¿®æ”¹å…¶ä¸­çš„githubä¸ºgitee,è¿˜æœ‰-ohmyzsh/ohmyzshä¿®æ”¹ä¸º-mirrors/oh-my-zsh
REPO=${REPO:-mirrors/oh-my-zsh}
REMOTE=${REMOTE:-https://gitee.com/${REPO}.git}
</code></pre>
<p>ç„¶åæ‰§è¡Œ<code> ./install.sh</code></p>
<h3 id="3é…ç½®-zsh">3.é…ç½® zsh</h3>
<pre><code class="language-shell">vim ~/.zshrc
</code></pre>
<p>ä¿®æ”¹ä¸»é¢˜ï¼š</p>
<pre><code class="language-sh">ZSH_THEME=&quot;robbyrussell&quot;
# æ”¹ä¸º
ZSH_THEME=&quot;ys&quot;
</code></pre>
<p>ä¿®æ”¹æ’ä»¶ï¼š</p>
<pre><code class="language-sh">plugins=(git)
# æ”¹ä¸º
plugins=(git zsh-syntax-highlighting zsh-autosuggestions)
</code></pre>
<h3 id="4-ä¸‹è½½æ’ä»¶">4. ä¸‹è½½æ’ä»¶</h3>
<pre><code class="language-shell">git clone https://gitee.com/fast-mirrors/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting


git clone https://gitee.com/fast-mirrors/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
</code></pre>
<h3 id="5åˆ·æ–°">5.åˆ·æ–°</h3>
<pre><code class="language-shell">source ~/.bash_profile
source ~/.zshrc
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ ç»çº¬åº¦è®¡ç®—è·ç¦»]]></title>
        <id>https://a-jiang-pro.github.io/post/jing-wei-du-ji-suan-ju-chi/</id>
        <link href="https://a-jiang-pro.github.io/post/jing-wei-du-ji-suan-ju-chi/">
        </link>
        <updated>2023-09-14T16:11:51.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç»çº¬åº¦è®¡ç®—è·ç¦»">ç»çº¬åº¦è®¡ç®—è·ç¦»</h2>
<h3 id="1å¯¼å…¥mavenä¾èµ–">1.å¯¼å…¥mavenä¾èµ–</h3>
<p><code>org.gavaghan</code> æ˜¯ä¸€ä¸ª Java è½¯ä»¶åŒ…ï¼Œç”± Tim Gavaghan åˆ›å»ºå’Œç»´æŠ¤ã€‚è¯¥è½¯ä»¶åŒ…æä¾›äº†ä¸€ç³»åˆ—ç”¨äºå¤„ç†å’Œè§£æå„ç§æ•°æ®æ ¼å¼çš„ç±»å’Œå·¥å…·ã€‚</p>
<pre><code class="language-xml">     &lt;dependency&gt;
          &lt;groupId&gt;org.gavaghan&lt;/groupId&gt;
          &lt;artifactId&gt;geodesy&lt;/artifactId&gt;
          &lt;version&gt;${geodesy.version}&lt;/version&gt;
     &lt;/dependency&gt;
</code></pre>
<h3 id="2ä»£ç å®ç°">2.ä»£ç å®ç°</h3>
<pre><code class="language-java">
  GlobalCoordinates start = globalCoordinatesList.get(i);
            GlobalCoordinates end = globalCoordinatesList.get(i + 1);


    private static BigDecimal getDistanceMeter(GlobalCoordinates gpsFrom, GlobalCoordinates gpsTo) {
        //åˆ›å»ºGeodeticCalculatorï¼Œè°ƒç”¨è®¡ç®—æ–¹æ³•ï¼Œä¼ å…¥åæ ‡ç³»ã€ç»çº¬åº¦ç”¨äºè®¡ç®—è·ç¦»
        GeodeticCurve geoCurve = new GeodeticCalculator().calculateGeodeticCurve(Ellipsoid.Sphere, gpsFrom, gpsTo);
        return BigDecimal.valueOf(geoCurve.getEllipsoidalDistance());
    }

</code></pre>
]]></content>
    </entry>
</feed>